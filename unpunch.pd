#N canvas 0 99 799 557 10;
#X msg 536 105 clear;
#X obj 206 22 loadbang;
#X obj 206 45 \$0;
#X obj 185 21 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 133 127 401 394 create_horizgrid 0;
#X obj 16 86 t a b;
#X obj 16 109 until;
#X obj 16 132 f;
#X msg 54 110 0;
#X obj 67 150 + 1;
#X obj 16 62 f;
#X obj 49 62 r \$0.pitchrange;
#X text 229 320 x y w h c;
#X obj 16 271 pack f f f f f;
#N canvas 0 99 387 189 x 0;
#X obj 18 12 inlet;
#X obj 18 97 +;
#X obj 33 70 r \$0.canvasleftmargin;
#X msg 18 46 0;
#X obj 18 120 outlet;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X restore 16 233 pd x;
#N canvas 0 99 405 280 y 0;
#X obj 42 123 * 14;
#X obj 42 199 +;
#X obj 57 173 r \$0.canvastopmargin;
#X obj 63 96 r \$0.stepvisheight;
#X obj 42 35 inlet;
#X obj 42 239 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 0 0;
#X restore 55 234 pd y;
#N canvas 0 99 418 249 w 0;
#X obj 16 17 inlet;
#X obj 16 194 outlet;
#X obj 16 103 f;
#X obj 31 127 r \$0.stepviswidth;
#X obj 16 155 *;
#X obj 16 45 b;
#X obj 31 77 r \$0.stepsperpage;
#X connect 0 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 2 1;
#X restore 92 234 pd w;
#N canvas 0 99 395 171 h 0;
#X obj 23 14 inlet;
#X obj 23 37 b;
#X obj 23 110 f;
#X obj 23 133 outlet;
#X obj 38 65 r \$0.stepvisheight;
#X obj 38 88 - 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X restore 135 235 pd h;
#X obj 16 156 t a a;
#X obj 16 185 t a a a a a;
#N canvas 570 378 422 271 c 0;
#X obj 20 56 mod 12;
#X obj 20 80 sel 0 2 4 5 7 9 11;
#X obj 125 102 b;
#X obj 20 130 f 887;
#X obj 125 177 f 777;
#X obj 20 32 + 5;
#X obj 64 129 r \$0.stepkeycolor1;
#X obj 132 152 r \$0.stepkeycolor2;
#X obj 20 211 t a;
#X obj 20 7 inlet;
#X obj 20 238 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 3 0;
#X connect 1 2 3 0;
#X connect 1 3 3 0;
#X connect 1 4 3 0;
#X connect 1 5 3 0;
#X connect 1 6 3 0;
#X connect 1 7 2 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 8 0;
#X connect 5 0 0 0;
#X connect 6 0 3 1;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X restore 171 234 pd c;
#X obj 16 294 list prepend \$0;
#X obj 16 10 inlet;
#X obj 16 35 b;
#X obj 16 343 outlet;
#X msg 16 320 scalar \$1.horizgrid \$2 \$3 \$4 \$5 \$6;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 0 0;
#X connect 6 0 5 1;
#X connect 8 0 16 0;
#X connect 9 0 8 0;
#X connect 10 0 8 1;
#X connect 11 0 8 2;
#X connect 12 0 8 3;
#X connect 13 0 14 0;
#X connect 13 1 4 0;
#X connect 14 0 9 0;
#X connect 14 1 10 0;
#X connect 14 2 11 0;
#X connect 14 3 12 0;
#X connect 14 4 15 0;
#X connect 15 0 8 4;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 5 0;
#X connect 20 0 19 0;
#X restore 506 158 pd create_horizgrid;
#N canvas 54 126 618 459 horizgrid-template 0;
#X obj 19 18 filledpolygon c c 1 0 0 0 h w h w 0;
#X obj 20 44 struct \$0.horizgrid float x float y float w float h float
c;
#X obj 20 73 s \$0.horizgrid.send;
#X obj 22 126 route change;
#X obj 22 149 t p p, f 20;
#X obj 79 357 - 1;
#X obj 22 195 t b b, f 10;
#X obj 22 103 r \$0.horizgrid.send;
#X obj 22 388 set \$0.horizgrid w h;
#X obj 79 335 f;
#X obj 22 322 - 1;
#X obj 22 299 *;
#X obj 22 252 f;
#X obj 22 170 get \$0.horizgrid w;
#X obj 37 276 r \$0.stepviswidth;
#X obj 94 310 r \$0.stepvisheight;
#X obj 37 224 r \$0.stepsperpage;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 13 0;
#X connect 4 1 8 2;
#X connect 5 0 8 1;
#X connect 6 0 12 0;
#X connect 6 1 9 0;
#X connect 7 0 3 0;
#X connect 9 0 5 0;
#X connect 10 0 8 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 6 0;
#X connect 14 0 11 1;
#X connect 15 0 9 1;
#X connect 16 0 12 1;
#X restore 644 158 pd horizgrid-template;
#N canvas 60 99 426 427 vertgrid-template 0;
#X obj 19 18 filledpolygon 0 0 1 0 0 0 h w h w 0;
#X obj 19 42 struct \$0.vertgrid float x float y float w float h;
#X obj 19 66 s \$0.vertgrid.send;
#X obj 92 310 r \$0.stepvisheight;
#X obj 77 286 f;
#X obj 77 335 *;
#X obj 92 261 r \$0.pitchrange;
#X obj 22 103 r \$0.vertgrid.send;
#X obj 22 126 route change;
#X obj 22 170 get \$0.vertgrid w;
#X obj 22 149 t p p, f 19;
#X obj 77 358 - 1;
#X obj 22 388 set \$0.vertgrid w h;
#X obj 37 223 r \$0.stepviswidth;
#X obj 22 269 f;
#X obj 37 246 - 1;
#X obj 22 195 t b b, f 10;
#X connect 1 0 2 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 16 0;
#X connect 10 0 9 0;
#X connect 10 1 12 2;
#X connect 11 0 12 1;
#X connect 13 0 15 0;
#X connect 14 0 12 0;
#X connect 15 0 14 1;
#X connect 16 0 14 0;
#X connect 16 1 4 0;
#X restore 644 130 pd vertgrid-template;
#N canvas 113 111 401 394 create_vertgrid 0;
#X obj 16 86 t a b;
#X obj 16 109 until;
#X obj 16 132 f;
#X msg 54 110 0;
#X obj 67 150 + 1;
#X obj 16 62 f;
#N canvas 0 99 401 215 x 0;
#X obj 18 12 inlet;
#X obj 18 147 +;
#X obj 33 120 r \$0.canvasleftmargin;
#X obj 18 170 outlet;
#X obj 18 75 *;
#X obj 33 42 r \$0.stepviswidth;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 4 0 1 0;
#X connect 5 0 4 1;
#X restore 16 233 pd x;
#N canvas 0 99 405 280 y 0;
#X obj 42 199 +;
#X obj 57 173 r \$0.canvastopmargin;
#X obj 42 35 inlet;
#X obj 42 239 outlet;
#X msg 42 90 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 4 0;
#X connect 4 0 0 0;
#X restore 55 234 pd y;
#N canvas 0 99 418 249 w 0;
#X obj 16 17 inlet;
#X obj 16 194 outlet;
#X obj 31 90 r \$0.stepviswidth;
#X obj 16 45 b;
#X obj 16 155 f;
#X obj 31 113 - 1;
#X connect 0 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 4 1;
#X restore 92 234 pd w;
#N canvas 0 99 398 252 h 0;
#X obj 23 14 inlet;
#X obj 23 37 b;
#X obj 23 193 outlet;
#X obj 38 115 r \$0.stepvisheight;
#X obj 23 91 f;
#X obj 23 140 *;
#X obj 38 66 r \$0.pitchrange;
#X obj 23 163 - 1;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 4 1;
#X connect 7 0 2 0;
#X restore 135 235 pd h;
#X obj 16 156 t a a;
#X obj 16 294 list prepend \$0;
#X obj 16 10 inlet;
#X obj 16 35 b;
#X obj 16 343 outlet;
#X text 229 320 x y w h;
#X obj 16 271 pack f f f f;
#X obj 16 185 t a a a a;
#X msg 16 320 scalar \$1.vertgrid \$2 \$3 \$4 \$5;
#X obj 46 60 r \$0.stepsperpage;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 0 0;
#X connect 6 0 16 0;
#X connect 7 0 16 1;
#X connect 8 0 16 2;
#X connect 9 0 16 3;
#X connect 10 0 17 0;
#X connect 10 1 4 0;
#X connect 11 0 18 0;
#X connect 12 0 13 0;
#X connect 13 0 5 0;
#X connect 16 0 11 0;
#X connect 17 0 6 0;
#X connect 17 1 7 0;
#X connect 17 2 8 0;
#X connect 17 3 9 0;
#X connect 18 0 14 0;
#X connect 19 0 5 1;
#X restore 521 130 pd create_vertgrid;
#N canvas 107 99 446 109 vertline-template 0;
#X obj 18 20 drawpolygon c 1 0 0 0 h;
#X obj 19 79 s \$0.vertline.send;
#X obj 19 42 struct \$0.vertline float x float y float h float c float
n float nvis;
#X obj 165 20 drawnumber -v nvis n -3 -12 c;
#X connect 2 0 1 0;
#X restore 644 186 pd vertline-template;
#N canvas 23 99 400 432 create_vertline 0;
#X obj 16 116 t a b;
#X obj 16 139 until;
#X obj 16 162 f;
#X msg 54 140 0;
#X obj 67 180 + 1;
#X obj 16 62 f;
#N canvas 0 99 401 215 x 0;
#X obj 18 12 inlet;
#X obj 18 147 +;
#X obj 33 120 r \$0.canvasleftmargin;
#X obj 18 170 outlet;
#X obj 18 75 *;
#X obj 33 42 r \$0.stepviswidth;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 4 0 1 0;
#X connect 5 0 4 1;
#X restore 16 263 pd x;
#N canvas 0 99 405 280 y 0;
#X obj 42 199 +;
#X obj 57 173 r \$0.canvastopmargin;
#X obj 42 35 inlet;
#X obj 42 239 outlet;
#X msg 42 90 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 4 0;
#X connect 4 0 0 0;
#X restore 55 264 pd y;
#X obj 16 186 t a a;
#X obj 16 324 list prepend \$0;
#X obj 16 10 inlet;
#X obj 16 35 b;
#X obj 16 373 outlet;
#N canvas 0 99 398 252 h 0;
#X obj 23 14 inlet;
#X obj 23 37 b;
#X obj 23 163 outlet;
#X obj 38 115 r \$0.stepvisheight;
#X obj 23 91 f;
#X obj 23 140 *;
#X obj 38 66 r \$0.pitchrange;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 4 1;
#X restore 96 266 pd h;
#N canvas 0 132 290 428 c 0;
#X obj 16 17 inlet;
#X obj 16 366 outlet;
#X obj 79 136 r \$0.griddivision;
#X obj 95 163 r \$0.gridsubdivision;
#X obj 79 214 *;
#X obj 16 201 mod;
#X obj 16 238 sel 0;
#X obj 58 245 r \$0.gridsubdivision;
#X obj 43 272 mod;
#X obj 43 301 sel 0;
#X msg 70 328 888;
#X msg 16 329 0;
#X obj 95 186 t b a;
#X msg 43 328 666;
#X obj 63 53 r \$0.page;
#X obj 91 78 r \$0.stepsperpage;
#X obj 63 78 *;
#X obj 16 72 +;
#X connect 0 0 17 0;
#X connect 2 0 4 0;
#X connect 3 0 12 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 11 0;
#X connect 6 1 8 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 9 1 10 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 4 0;
#X connect 12 1 4 1;
#X connect 13 0 1 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 17 1;
#X connect 17 0 5 0;
#X restore 133 267 pd c;
#X obj 16 89 + 1;
#X text 46 89 one more for end line;
#X obj 16 215 t a a a a a;
#N canvas 0 99 429 434 n 0;
#X obj 20 26 inlet;
#X obj 20 345 outlet;
#X obj 124 116 r \$0.griddivision;
#X obj 140 143 r \$0.gridsubdivision;
#X obj 124 194 *;
#X obj 140 166 t b a;
#X obj 20 241 div;
#X obj 20 189 t a a;
#X obj 109 277 mod;
#X obj 109 305 == 0;
#X obj 109 348 outlet;
#X obj 20 264 + 1;
#X obj 67 53 r \$0.page;
#X obj 95 78 r \$0.stepsperpage;
#X obj 67 78 *;
#X obj 20 72 +;
#X obj 79 246 sel;
#X msg 76 285 0;
#X obj 67 125 +;
#X connect 0 0 15 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 6 1;
#X connect 4 0 8 1;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 6 0 11 0;
#X connect 7 0 6 0;
#X connect 7 1 16 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 13 0 14 1;
#X connect 13 0 18 1;
#X connect 14 0 15 1;
#X connect 14 0 18 0;
#X connect 15 0 7 0;
#X connect 16 0 17 0;
#X connect 16 1 8 0;
#X connect 17 0 10 0;
#X connect 18 0 16 1;
#X restore 170 267 pd n nvis;
#X obj 16 301 pack f f f f f f;
#X text 249 349 x y h c n nvis;
#X msg 16 350 scalar \$1.vertline \$2 \$3 \$4 \$5 \$6 \$7;
#X obj 46 60 r \$0.stepsperpage;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 15 0;
#X connect 6 0 19 0;
#X connect 7 0 19 1;
#X connect 8 0 17 0;
#X connect 8 1 4 0;
#X connect 9 0 21 0;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 13 0 19 2;
#X connect 14 0 19 3;
#X connect 15 0 0 0;
#X connect 17 0 6 0;
#X connect 17 1 7 0;
#X connect 17 2 13 0;
#X connect 17 3 14 0;
#X connect 17 4 18 0;
#X connect 18 0 19 4;
#X connect 18 1 19 5;
#X connect 19 0 9 0;
#X connect 21 0 12 0;
#X connect 22 0 5 1;
#X restore 491 186 pd create_vertline;
#N canvas 35 99 741 470 note-template 0;
#X obj 121 282 min 127;
#X obj 51 166 route click change;
#X obj 121 307 t a a;
#X obj 32 141 t a a a;
#X obj 32 429 s \$0.note.send;
#X obj 51 189 t p p, f 48;
#X obj 51 235 t a b, f 40;
#X obj 288 380 f;
#X obj 303 332 r \$0.stepvisheight;
#X obj 303 355 - 1;
#X obj 270 259 r \$0.stepviswidth;
#X obj 241 259 div;
#X obj 241 333 *;
#N canvas 320 203 446 363 clr.* 0;
#X obj 28 62 t a a a;
#X obj 28 112 div 100;
#X obj 78 113 mod 100;
#X obj 78 136 div 10;
#X obj 128 112 mod 10;
#X obj 28 165 *;
#X obj 28 188 int;
#X obj 78 165 *;
#X obj 78 188 int;
#X obj 128 165 *;
#X obj 128 188 int;
#X obj 230 103 inlet;
#X obj 28 212 min 9;
#X obj 78 212 min 9;
#X obj 128 212 min 9;
#X obj 28 235 * 100;
#X obj 78 235 * 10;
#X obj 128 235 * 1;
#X obj 28 262 +;
#X obj 28 285 +;
#X obj 28 311 outlet;
#X obj 28 24 inlet;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 9 1;
#X connect 11 0 7 1;
#X connect 11 0 5 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 64 364 pd clr.*;
#X obj 121 356 / 113;
#X obj 469 34 r \$0.default.show;
#X obj 469 183 == 1;
#X text 596 36 show note properties:;
#X text 609 53 0 = none;
#X text 609 68 1 = velocity;
#X text 609 83 2 = gid;
#X obj 478 260 hradio 20 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 478 291 s \$0.default.show;
#N canvas 149 210 387 235 range 0;
#X obj 33 104 min;
#X obj 86 64 r \$0.gidcolorlist;
#X obj 86 87 list length;
#X obj 86 110 - 1;
#X obj 33 22 inlet;
#X obj 33 45 max 0;
#X obj 33 127 outlet;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X restore 51 274 pd range;
#X obj 51 297 t a a;
#X obj 241 284 min;
#X obj 241 307 max 1;
#X obj 274 283 r \$0.stepsperpage;
#X obj 508 84 == 3;
#X obj 121 259 max 1;
#X obj 469 57 t a a a;
#X obj 488 133 == 2;
#X obj 51 212 get \$0.note gid vel dur w, f 32;
#X obj 51 406 set \$0.note gid c vel dur w h, f 48;
#X obj 178 302 max 1;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 64 331 pd gid->gclr;
#X obj 32 54 filledpolygon -v vis c mrk 1 0 0 0 h w h w 0;
#X obj 32 104 struct \$0.note float x float y float w float h float
id float gid float vel float dur float c float vis float mrk;
#X obj 508 111 drawnumber gid 3 1 999;
#X obj 469 210 drawnumber vel 3 1 999;
#X obj 488 160 drawnumber dur 3 1 999;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 1 1 5 0;
#X connect 2 0 14 0;
#X connect 2 1 33 2;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 5 0 32 0;
#X connect 5 1 33 6;
#X connect 6 0 23 0;
#X connect 6 1 7 0;
#X connect 7 0 33 5;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 10 0 11 1;
#X connect 10 0 12 1;
#X connect 11 0 25 0;
#X connect 12 0 33 4;
#X connect 13 0 33 1;
#X connect 14 0 13 1;
#X connect 15 0 30 0;
#X connect 16 0 39 0;
#X connect 21 0 22 0;
#X connect 23 0 24 0;
#X connect 24 0 33 0;
#X connect 24 1 35 0;
#X connect 25 0 26 0;
#X connect 26 0 12 0;
#X connect 27 0 25 1;
#X connect 28 0 38 0;
#X connect 29 0 0 0;
#X connect 30 0 16 0;
#X connect 30 1 31 0;
#X connect 30 2 28 0;
#X connect 31 0 40 0;
#X connect 32 0 6 0;
#X connect 32 1 29 0;
#X connect 32 2 34 0;
#X connect 32 3 11 0;
#X connect 34 0 33 3;
#X connect 35 0 13 0;
#X connect 37 0 3 0;
#X restore 644 101 pd note-template;
#X msg 490 351 const 0;
#N canvas 162 155 643 410 create_guis 0;
#X obj 355 32 inlet;
#X obj 408 312 outlet;
#X obj 16 346 list store;
#X msg 16 320 get \$1 1;
#X obj 16 371 s \$0.gid2lr.set;
#X obj 16 292 r \$0.gid2lr.get;
#X obj 80 318 r \$0.gidcolorlist;
#N canvas 633 422 439 518 create.gid.buttons 0;
#X obj 60 316 r \$0.canvasleftmargin;
#X obj 28 120 f;
#X obj 28 143 t a a;
#X obj 28 417 list prepend \$0;
#X msg 70 95 0;
#X obj 81 126 + 1;
#X obj 28 340 +;
#X obj 109 41 r \$0.gidcolorlist;
#X obj 109 64 list length;
#X obj 28 65 t a b;
#X obj 28 39 f;
#X obj 28 91 until;
#X text 49 391 x clr hl gid;
#X obj 28 468 outlet;
#X obj 28 12 inlet;
#X obj 28 170 t a a b a;
#X obj 28 317 * 16;
#X obj 60 339 + 251;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 45 205 pd gid->gclr;
#N canvas 320 203 446 363 clr.* 0;
#X obj 28 62 t a a a;
#X obj 28 112 div 100;
#X obj 78 113 mod 100;
#X obj 78 136 div 10;
#X obj 128 112 mod 10;
#X obj 28 165 *;
#X obj 28 188 int;
#X obj 78 165 *;
#X obj 78 188 int;
#X obj 128 165 *;
#X obj 128 188 int;
#X obj 230 103 inlet;
#X obj 28 212 min 9;
#X obj 78 212 min 9;
#X obj 128 212 min 9;
#X obj 28 235 * 100;
#X obj 78 235 * 10;
#X obj 128 235 * 1;
#X obj 28 262 +;
#X obj 28 285 +;
#X obj 28 311 outlet;
#X obj 28 24 inlet;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 9 1;
#X connect 11 0 7 1;
#X connect 11 0 5 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 45 236 pd clr.*;
#X obj 28 370 pack f f f, f 23;
#X msg 28 445 scalar \$1.gid.button \$2 20 \$3 \$4;
#X msg 140 204 0.4;
#X connect 0 0 17 0;
#X connect 1 0 2 0;
#X connect 2 0 15 0;
#X connect 2 1 5 0;
#X connect 3 0 21 0;
#X connect 4 0 1 1;
#X connect 5 0 1 1;
#X connect 6 0 20 0;
#X connect 7 0 8 0;
#X connect 8 0 10 1;
#X connect 9 0 11 0;
#X connect 9 1 4 0;
#X connect 10 0 9 0;
#X connect 11 0 1 0;
#X connect 14 0 10 0;
#X connect 15 0 16 0;
#X connect 15 1 18 0;
#X connect 15 2 22 0;
#X connect 15 3 20 2;
#X connect 16 0 6 0;
#X connect 17 0 6 1;
#X connect 18 0 19 0;
#X connect 19 0 20 1;
#X connect 20 0 3 0;
#X connect 21 0 13 0;
#X connect 22 0 19 1;
#X restore 454 116 pd create.gid.buttons;
#N canvas 0 99 450 300 create.vel.number 0;
#X obj 24 21 inlet;
#X obj 24 201 outlet;
#X obj 68 23 r \$0.canvasleftmargin;
#X obj 24 90 f;
#X obj 69 96 r \$0.default.vel;
#X obj 24 125 pack f f;
#X obj 24 149 list prepend \$0;
#X msg 24 172 scalar \$1.vel \$2 20 \$3;
#X obj 68 46 + 85;
#X connect 0 0 3 0;
#X connect 2 0 8 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 3 1;
#X restore 439 140 pd create.vel.number;
#N canvas 0 99 450 300 create.dur.number 0;
#X obj 24 21 inlet;
#X obj 24 216 outlet;
#X obj 68 23 r \$0.canvasleftmargin;
#X obj 24 90 f;
#X obj 24 125 pack f f;
#X obj 24 149 list prepend \$0;
#X obj 69 96 r \$0.default.dur;
#X msg 24 172 scalar \$1.dur \$2 20 \$3;
#X obj 68 46 + 168;
#X connect 0 0 3 0;
#X connect 2 0 8 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 4 1;
#X connect 7 0 1 0;
#X connect 8 0 3 1;
#X restore 425 168 pd create.dur.number;
#N canvas 0 99 390 589 create.show.selector 0;
#X obj 7 7 inlet;
#X obj 8 523 outlet;
#X obj 8 462 list prepend \$0;
#X obj 7 61 f;
#X text 46 84 offset from left border;
#X obj 44 64 r \$0.canvasleftmargin;
#X obj 7 30 b;
#X obj 27 173 +;
#X obj 8 123 t a a b;
#X msg 48 151 31;
#X obj 27 200 t a a b;
#X obj 74 241 +;
#X msg 89 218 55;
#X msg 8 490 scalar \$1.show.selector \$2 20 \$3 555 \$4 \$5;
#X msg 8 416 \$1 \$2 0 none \, \$3 \$4 1 velocity \, \$5 \$6 2 duration
\, \$7 \$8 3 gid;
#X obj 74 264 t a a b;
#X obj 8 389 pack f f f f f f f f;
#X obj 108 320 +;
#X obj 110 343 t a b;
#X msg 142 298 55;
#X msg 140 365 37;
#X obj 8 84 + 357;
#X connect 0 0 6 0;
#X connect 2 0 13 0;
#X connect 3 0 21 0;
#X connect 5 0 3 1;
#X connect 6 0 3 0;
#X connect 7 0 10 0;
#X connect 8 0 16 0;
#X connect 8 1 7 0;
#X connect 8 2 9 0;
#X connect 9 0 7 1;
#X connect 9 0 16 1;
#X connect 10 0 16 2;
#X connect 10 1 11 0;
#X connect 10 2 12 0;
#X connect 11 0 15 0;
#X connect 12 0 11 1;
#X connect 12 0 16 3;
#X connect 13 0 1 0;
#X connect 14 0 2 0;
#X connect 15 0 16 4;
#X connect 15 1 17 0;
#X connect 15 2 19 0;
#X connect 16 0 14 0;
#X connect 17 0 18 0;
#X connect 18 0 16 6;
#X connect 18 1 20 0;
#X connect 19 0 16 5;
#X connect 19 0 17 1;
#X connect 20 0 16 7;
#X connect 21 0 8 0;
#X restore 397 219 pd create.show.selector;
#N canvas 164 241 550 482 gid.state 0;
#X obj 12 76 route click;
#X obj 63 145 pointer;
#X obj 12 52 r \$0.gid.button.send;
#N canvas 347 99 390 345 init.pointer 0;
#X obj 17 79 until;
#X msg 17 102 next;
#X obj 17 138 pointer \$0.gid.button;
#X obj 17 188 get \$0.gid.button gid;
#X obj 17 51 t b b;
#X obj 17 14 inlet;
#X obj 17 219 sel 0;
#X obj 63 219 r \$0.default.gid;
#X obj 17 294 outlet;
#X obj 17 242 t b b, f 23;
#X obj 17 161 t p p;
#X obj 17 265 pointer;
#X obj 68 54 symbol \$1;
#X msg 68 80 traverse \$1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 2 2 0 1;
#X connect 3 0 6 0;
#X connect 4 0 0 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 9 0 11 0;
#X connect 9 1 0 1;
#X connect 10 0 3 0;
#X connect 10 1 11 1;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 13 0 2 0;
#X restore 181 93 pd init.pointer;
#X obj 181 66 inlet;
#X obj 63 168 t p p;
#X obj 63 205 get \$0.gid.button gid;
#X obj 63 340 set \$0.gid.button clr;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 63 264 pd gid->gclr;
#N canvas 320 203 446 363 clr.* 0;
#X obj 28 62 t a a a;
#X obj 28 112 div 100;
#X obj 78 113 mod 100;
#X obj 78 136 div 10;
#X obj 128 112 mod 10;
#X obj 28 165 *;
#X obj 28 188 int;
#X obj 78 165 *;
#X obj 78 188 int;
#X obj 128 165 *;
#X obj 128 188 int;
#X obj 230 103 inlet;
#X obj 28 212 min 9;
#X obj 78 212 min 9;
#X obj 128 212 min 9;
#X obj 28 235 * 100;
#X obj 78 235 * 10;
#X obj 128 235 * 1;
#X obj 28 262 +;
#X obj 28 285 +;
#X obj 28 311 outlet;
#X obj 28 24 inlet;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 9 1;
#X connect 11 0 7 1;
#X connect 11 0 5 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 63 295 pd clr.*;
#X obj 63 237 t a b;
#X obj 12 417 set \$0.gid.button clr;
#X obj 12 364 get \$0.gid.button gid;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 12 391 pd gid->gclr;
#X obj 12 99 t p p p b;
#X obj 181 116 t p p p;
#X msg 158 263 0.4;
#X connect 0 0 14 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 15 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 7 1;
#X connect 6 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 1 16 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 14 1 11 1;
#X connect 14 2 1 1;
#X connect 14 3 1 0;
#X connect 15 0 1 1;
#X connect 15 1 12 0;
#X connect 15 2 11 1;
#X connect 16 0 9 1;
#X restore 55 135 pd gid.state;
#N canvas 109 99 450 300 show.selector.state 0;
#X obj 12 76 route click;
#X obj 12 99 t b p p b;
#X obj 63 145 pointer;
#X obj 63 168 t b p;
#N canvas 246 399 398 338 init.pointer 0;
#X obj 17 79 until;
#X msg 17 102 next;
#X obj 17 51 t b b;
#X obj 17 14 inlet;
#X obj 17 217 sel 0;
#X obj 17 290 outlet;
#X obj 17 138 pointer \$0.show.selector;
#X obj 17 188 get \$0.show.selector id;
#X obj 58 215 r \$0.default.show;
#X obj 17 161 t p p;
#X obj 17 240 t b b, f 21;
#X obj 17 263 pointer;
#X obj 68 54 symbol \$1;
#X msg 68 80 traverse \$1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 2 1 12 0;
#X connect 3 0 2 0;
#X connect 4 0 10 0;
#X connect 6 0 9 0;
#X connect 6 2 0 1;
#X connect 7 0 4 0;
#X connect 8 0 4 1;
#X connect 9 0 7 0;
#X connect 9 1 11 1;
#X connect 10 0 11 0;
#X connect 10 1 0 1;
#X connect 11 0 5 0;
#X connect 12 0 13 0;
#X connect 13 0 6 0;
#X restore 191 97 pd init.pointer;
#X obj 191 69 inlet;
#X obj 12 52 r \$0.show.selector.send;
#X msg 63 197 555;
#X msg 12 195 0;
#X obj 12 249 set \$0.show.selector hilite;
#X obj 191 120 t p b p;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 1 1 9 1;
#X connect 1 2 2 1;
#X connect 1 3 2 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 3 1 9 1;
#X connect 4 0 10 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 10 0 2 1;
#X connect 10 1 8 0;
#X connect 10 2 9 1;
#X restore 53 169 pd show.selector.state;
#N canvas 250 344 403 392 create.cursor 0;
#X obj 45 194 r \$0.canvastopmargin;
#X obj 22 96 f;
#X obj 22 26 inlet;
#X obj 22 303 list prepend \$0;
#X obj 22 354 outlet;
#N canvas 0 99 398 252 h 0;
#X obj 23 14 inlet;
#X obj 23 37 b;
#X obj 23 163 outlet;
#X obj 38 115 r \$0.stepvisheight;
#X obj 23 91 f;
#X obj 23 140 *;
#X obj 38 66 r \$0.pitchrange;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 4 1;
#X restore 68 219 pd h;
#X obj 22 49 t b b;
#X obj 22 272 pack f f f 1;
#X obj 37 73 r \$0.canvasleftmargin;
#X msg 22 331 scalar \$1.cursor \$2 \$3 \$4 \$5;
#X obj 91 248 r \$0.cursor.show;
#X obj 60 150 *;
#X obj 96 153 r \$0.stepviswidth;
#X obj 60 118 r \$0.cursor.pos;
#X obj 22 148 +;
#X connect 0 0 7 1;
#X connect 1 0 14 0;
#X connect 2 0 6 0;
#X connect 3 0 9 0;
#X connect 5 0 7 2;
#X connect 6 0 1 0;
#X connect 6 1 5 0;
#X connect 7 0 3 0;
#X connect 8 0 1 1;
#X connect 9 0 4 0;
#X connect 10 0 7 3;
#X connect 11 0 14 1;
#X connect 12 0 11 1;
#X connect 13 0 11 0;
#X connect 14 0 7 0;
#X restore 383 245 pd create.cursor;
#N canvas 357 99 501 367 cursor.state 0;
#X obj 258 107 until;
#X msg 258 130 next;
#X obj 258 79 t b b;
#X obj 258 42 inlet;
#X obj 258 166 pointer \$0.cursor;
#X obj 258 189 t p b;
#X obj 171 238 set \$0.cursor x;
#X obj 44 238 set \$0.cursor vis;
#X obj 82 92 *;
#X obj 118 95 r \$0.stepviswidth;
#X obj 82 117 +;
#X obj 118 119 r \$0.canvasleftmargin;
#X obj 309 82 symbol \$1;
#X msg 309 108 traverse \$1;
#X obj 82 60 r \$0.cursor.pos;
#X obj 44 210 r \$0.cursor.show;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 2 1 12 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 2 0 1;
#X connect 5 0 6 1;
#X connect 5 0 7 1;
#X connect 5 1 0 1;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 10 0 6 0;
#X connect 11 0 10 1;
#X connect 12 0 13 0;
#X connect 13 0 4 0;
#X connect 14 0 8 0;
#X connect 15 0 7 0;
#X restore 52 204 pd cursor.state;
#N canvas 0 99 652 395 create.mode.button 0;
#X obj 24 21 inlet;
#X obj 24 336 outlet;
#X obj 57 162 r \$0.canvasleftmargin;
#X obj 24 289 list prepend \$0;
#X obj 24 161 +;
#X msg 24 312 scalar \$1.mode.button \$2 \$3 \$4 \$5 \$6;
#X obj 105 19 r \$0.edit.modes;
#X obj 105 42 route velocity duration gid;
#X obj 24 44 f;
#X obj 24 80 pack f f f;
#X msg 24 116 85 72 velocity \$1 \, 168 72 duration \$2 \, 251 95 gid
\$3;
#X obj 24 139 unpack f f s f;
#X obj 24 242 pack f f s f;
#X msg 24 268 \$1 11 \$2 \$4 \$3;
#X obj 96 187 sel 0 1;
#X msg 96 210 666;
#X msg 132 211 900;
#X connect 0 0 8 0;
#X connect 2 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 12 0;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 7 1 9 1;
#X connect 7 2 9 2;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 11 1 12 1;
#X connect 11 2 12 2;
#X connect 11 3 14 0;
#X connect 12 0 13 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 15 0 12 3;
#X connect 16 0 12 3;
#X restore 411 192 pd create.mode.button;
#N canvas 83 122 487 422 create.pager 0;
#X obj 34 317 list prepend \$0;
#X obj 34 368 outlet;
#X obj 34 17 inlet;
#X msg 34 345 scalar \$1.pager \$2 \$3 \$4 \$5 \$6 \$7;
#X text 47 288 x y c dir num nvis;
#X obj 34 140 t a a;
#X msg 110 116 \$1;
#X obj 110 139 + 40;
#X obj 34 175 list append;
#X obj 34 47 f;
#X obj 68 49 r \$0.canvasleftmargin;
#X obj 34 70 + 10;
#X msg 34 117 \$1 20;
#X obj 328 98 != 1;
#X msg 358 159 444;
#X msg 328 160 666;
#X obj 328 131 sel 0 1;
#X obj 260 33 r \$0.page;
#X msg 34 255 \$1 \$2 \$5 0 \$4 1 \, \$3 \$2 444 24 0 0;
#X obj 34 221 list append 666;
#X obj 34 198 list append 1;
#X obj 260 56 + 1;
#X connect 0 0 3 0;
#X connect 2 0 9 0;
#X connect 3 0 1 0;
#X connect 5 0 8 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 8 0 20 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X connect 11 0 12 0;
#X connect 12 0 5 0;
#X connect 13 0 16 0;
#X connect 14 0 19 1;
#X connect 15 0 19 1;
#X connect 16 0 15 0;
#X connect 16 1 14 0;
#X connect 17 0 21 0;
#X connect 18 0 0 0;
#X connect 19 0 18 0;
#X connect 20 0 19 0;
#X connect 21 0 13 0;
#X connect 21 0 20 1;
#X restore 369 270 pd create.pager;
#X obj 355 61 t b b b b b b b b b;
#N canvas 301 211 450 300 create.guibar 0;
#X obj 8 14 inlet;
#X obj 8 235 outlet;
#X obj 241 109 r \$0.stepviswidth;
#X obj 287 134 r \$0.stepsperpage;
#X obj 287 157 t b a;
#X obj 241 189 *;
#X obj 48 58 r \$0.canvasleftmargin;
#X obj 8 58 f;
#X obj 8 139 pack f 11 f;
#X obj 8 162 list prepend \$0;
#X msg 8 185 scalar \$1.guibar \$2 \$3 \$4;
#X connect 0 0 7 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 8 2;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 1 0;
#X restore 473 88 pd create.guibar;
#X connect 0 0 17 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 2 1;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 13 0 1 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 11 0;
#X connect 17 0 12 0;
#X connect 17 0 14 0;
#X connect 17 1 16 0;
#X connect 17 2 13 0;
#X connect 17 3 10 0;
#X connect 17 4 15 0;
#X connect 17 5 9 0;
#X connect 17 6 8 0;
#X connect 17 7 7 0;
#X connect 17 8 18 0;
#X connect 18 0 1 0;
#X restore 476 215 pd create_guis;
#N canvas 0 99 804 259 gui-templates 0;
#N canvas 0 99 408 150 gid.button-template 0;
#X obj 16 99 s \$0.gid.button.send;
#X obj 17 26 filledpolygon clr clr 1 0 0 0 15 15 15 15 0;
#X obj 16 60 struct \$0.gid.button float x float y float clr float
gid;
#X connect 2 0 0 0;
#X restore 8 78 pd gid.button-template;
#N canvas 195 247 417 284 vel-template 0;
#X obj 14 260 s \$0.vel.send;
#X obj 99 168 max 0;
#X obj 99 191 min 127;
#X obj 14 65 struct \$0.vel float x float y float value;
#X obj 14 88 t a a;
#X obj 99 144 get \$0.vel value;
#X obj 99 99 route change;
#X obj 99 122 t p p;
#X obj 99 216 set \$0.vel value;
#X obj 13 39 filledpolygon 886 886 1 0 0 0 15 72 15 72 0;
#X obj 14 11 drawnumber value 0 2 0 velocity=;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 4 1 6 0;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 7 1 8 1;
#X restore 8 48 pd vel-template;
#N canvas 0 99 414 335 dur-template 0;
#X obj 14 75 struct \$0.dur float x float y float value;
#X obj 99 201 min 127;
#X obj 14 98 t a a;
#X obj 99 109 route change;
#X obj 99 132 t p p;
#X obj 99 154 get \$0.dur value;
#X obj 99 226 set \$0.dur value;
#X obj 14 270 s \$0.dur.send;
#X obj 99 178 max 1;
#X obj 13 39 filledpolygon 886 886 1 0 0 0 15 72 15 72 0;
#X obj 14 11 drawnumber value 0 2 0 duration=;
#X obj 155 199 r \$0.stepsperpage;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 7 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 1;
#X connect 5 0 8 0;
#X connect 8 0 1 0;
#X connect 11 0 1 1;
#X restore 8 18 pd dur-template;
#N canvas 469 142 450 300 show.selector-template 0;
#X obj 22 149 s \$0.show.selector.send;
#X obj 22 108 struct \$0.show.selector float x float y float w float
hilite float id symbol label;
#X obj 21 25 filledpolygon 666 666 1 0 0 0 15 w 15 w 0;
#X obj 22 53 drawsymbol label 2 1 hilite;
#X connect 1 0 0 0;
#X restore 8 138 pd show.selector-template;
#X obj 464 59 route click;
#X obj 464 107 s \$0.default.gid;
#X obj 333 35 r \$0.vel.send;
#X obj 333 81 get \$0.vel value;
#X obj 333 106 s \$0.default.vel;
#X obj 333 58 route change;
#X obj 209 55 route change;
#X obj 209 32 r \$0.dur.send;
#X obj 209 78 get \$0.dur value;
#X obj 209 103 s \$0.default.dur;
#X obj 464 36 r \$0.gid.button.send;
#X obj 464 82 get \$0.gid.button gid;
#X obj 612 60 route click;
#X obj 612 37 r \$0.show.selector.send;
#X obj 612 83 get \$0.show.selector id;
#X obj 612 108 s \$0.default.show;
#N canvas 489 158 450 300 cursor-template 0;
#X obj 22 149 s \$0.cursor.send;
#X obj 22 108 struct \$0.cursor float x float y float h float vis;
#X obj 18 20 drawpolygon -v vis 900 2 0 0 0 h;
#X connect 1 0 0 0;
#X restore 8 168 pd cursor-template;
#N canvas 0 99 392 164 mode.button-template 0;
#X obj 16 99 s \$0.mode.button.send;
#X obj 17 26 filledpolygon c c 1 0 0 0 8 w 8 w 0;
#X obj 16 60 struct \$0.mode.button float x float y float w float c
symbol param;
#X connect 2 0 0 0;
#X restore 8 108 pd mode.button-template;
#N canvas 199 504 810 268 mode.button.logic 0;
#X obj 23 17 r \$0.mode.button.send;
#X msg 99 186 900;
#X msg 130 187 666;
#X obj 99 159 sel 666 900;
#X obj 23 63 t p p, f 26;
#X obj 23 88 get \$0.mode.button w c;
#X obj 23 217 set \$0.mode.button w c, f 26;
#X obj 23 148 f;
#X obj 75 121 b;
#X obj 23 40 route click change;
#X obj 243 17 r \$0.mode.button.send;
#X obj 243 40 route click;
#X obj 243 63 get \$0.mode.button c param;
#X obj 243 86 sel 666 900;
#X msg 243 109 1;
#X msg 274 109 0;
#X obj 243 152 list prepend;
#X obj 243 198 s \$0.edit.modes;
#X obj 243 175 list trim;
#X connect 0 0 9 0;
#X connect 1 0 6 1;
#X connect 2 0 6 1;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 4 1 6 2;
#X connect 5 0 7 0;
#X connect 5 1 3 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 9 0 4 0;
#X connect 9 1 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 16 1;
#X connect 13 0 14 0;
#X connect 13 1 15 0;
#X connect 14 0 16 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X connect 18 0 17 0;
#X restore 212 143 pd mode.button.logic;
#N canvas 399 371 405 373 pager-template 0;
#X obj 15 41 filledpolygon c c 1 dir 7 12 14 12 0;
#X obj 21 285 s \$0.pager.send;
#X obj 21 117 struct \$0.pager float x float y float c float dir float
num float nvis;
#X obj 19 66 drawnumber -v nvis num 30 2 0;
#X obj 165 164 route change;
#X obj 165 187 t p p;
#X obj 21 185 t a a;
#X obj 165 209 get \$0.pager num;
#X obj 165 233 max 1;
#X obj 165 281 set \$0.pager num;
#X connect 2 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 9 1;
#X connect 6 0 1 0;
#X connect 6 1 4 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X restore 8 198 pd pager-template;
#N canvas 305 215 450 300 guibar-template 0;
#X obj 21 180 s \$0.guibar.send;
#X obj 21 117 struct \$0.guibar float x float y float w;
#X obj 17 39 filledpolygon 777 777 1 0 0 w 0 w 24 0 24;
#X connect 1 0 0 0;
#X restore 8 228 pd guibar-template;
#N canvas 100 265 435 556 pager.logic 0;
#X obj 24 24 r \$0.pager.send;
#X msg 24 186 -1;
#X msg 53 187 1;
#X obj 24 234 f 1;
#X obj 24 263 +;
#X obj 24 286 t a a;
#X obj 24 209 t b a;
#X obj 24 110 get \$0.pager dir;
#X obj 24 47 route click change;
#X obj 156 91 get \$0.pager num;
#X obj 139 209 != 1;
#X obj 24 133 sel 0 24;
#X obj 24 156 spigot 1;
#X obj 51 459 s \$0.page;
#X obj 24 432 t b a;
#X obj 24 481 s \$0.redraw;
#X obj 24 309 - 1;
#X obj 24 351 t b a;
#X obj 24 374 del 0;
#X obj 24 397 f;
#X text 89 379 <- decoupler (does this work at all?);
#X obj 131 269 r \$0.page;
#X obj 131 292 + 1;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 16 0;
#X connect 5 1 10 0;
#X connect 6 0 3 0;
#X connect 6 1 4 1;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 8 1 9 0;
#X connect 10 0 12 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 1 0;
#X connect 14 0 15 0;
#X connect 14 1 13 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 19 1;
#X connect 18 0 19 0;
#X connect 19 0 14 0;
#X connect 21 0 22 0;
#X connect 22 0 3 1;
#X restore 212 198 pd pager.logic;
#X connect 4 0 15 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 9 0 7 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 0 4 0;
#X connect 15 0 5 0;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X restore 644 215 pd gui-templates;
#X obj 20 498 r \$0.global.send;
#X obj 20 465 s \$0.global.receive;
#X obj 285 430 text define \$0.sequence;
#N canvas 136 170 513 371 sequencer 0;
#N canvas 0 278 505 346 note.create 0;
#X obj 24 39 route note;
#X obj 24 62 route create;
#X obj 69 228 +;
#X obj 69 287 s \$0.sequencer.event.add.pre;
#X obj 251 243 s \$0.sequencer.event.add.post;
#X obj 69 254 pack f f 0 f;
#X obj 131 86 r \$0.create.id;
#X obj 24 16 r \$0.seq.receive;
#X obj 24 85 list prepend -1;
#X obj 24 108 route -1;
#X msg 69 205 \$2 \$5;
#X msg 113 202 \$3;
#X msg 251 217 \$2 \$3 \$4 \$1;
#X obj 69 160 t a a a a;
#X msg 146 202 \$1;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 2 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 8 1;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 1 13 0;
#X connect 10 0 2 0;
#X connect 11 0 5 1;
#X connect 12 0 4 0;
#X connect 13 0 10 0;
#X connect 13 1 11 0;
#X connect 13 2 14 0;
#X connect 13 3 12 0;
#X connect 14 0 5 3;
#X restore 13 19 pd note.create;
#N canvas 140 99 478 389 note.delete 0;
#X obj 24 39 route note;
#X obj 24 62 route delete;
#X obj 69 313 s \$0.sequencer.event.remove;
#X obj 24 143 route -1;
#X obj 24 85 b;
#X obj 24 108 f;
#X obj 88 213 tabread \$0.velocity;
#X obj 88 236 pack f f;
#X msg 69 275 0 \$1, f 5;
#X text 151 235 note-on (vel \, id);
#X text 111 276 note-off (vel \, id);
#X obj 69 170 t a a a;
#X obj 56 110 r \$0.delete.id;
#X obj 24 16 r \$0.seq.receive;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 1 11 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 8 0 2 0;
#X connect 11 0 8 0;
#X connect 11 1 6 0;
#X connect 11 2 7 1;
#X connect 12 0 5 1;
#X connect 13 0 0 0;
#X restore 13 42 pd note.delete;
#N canvas 0 99 784 430 note.change.duration 0;
#X obj 24 39 route note;
#X obj 24 109 t a a;
#X obj 24 62 route change;
#X obj 24 85 route duration;
#X msg 186 110 \$1 \$2;
#X obj 24 173 t a a;
#X msg 24 196 \$1 \$3;
#X obj 24 219 +;
#X msg 52 225 \$2;
#X obj 258 331 s \$0.sequencer.event.remove;
#X obj 24 298 s \$0.sequencer.event.add.pre;
#N canvas 83 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 186 173 pd step|pitch->id;
#X obj 186 196 route -1;
#X obj 483 343 list append;
#X obj 483 319 b;
#X msg 483 367 sequencer: note delete: note not found (\$1 \$2);
#X obj 483 390 s error;
#X obj 24 270 pack f f 0 f;
#X obj 186 142 t a a;
#X msg 258 269 0 \$1;
#X obj 231 233 t a a;
#X obj 24 16 r \$0.seq.receive;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 18 0;
#X connect 5 0 6 0;
#X connect 5 1 8 0;
#X connect 6 0 7 0;
#X connect 7 0 17 0;
#X connect 8 0 17 1;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 12 1 20 0;
#X connect 13 0 15 0;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 17 0 10 0;
#X connect 18 0 11 0;
#X connect 18 1 13 1;
#X connect 19 0 9 0;
#X connect 20 0 17 3;
#X connect 20 1 19 0;
#X connect 21 0 0 0;
#X restore 13 66 pd note.change.duration;
#N canvas 604 608 577 279 event.add 0;
#X obj 16 37 t a a;
#X msg 71 59 \$1;
#X obj 71 107 sel -1;
#X msg 71 132 1e+09;
#X obj 16 158 text insert \$0.sequence;
#X obj 71 84 text search \$0.sequence > 0;
#X obj 16 11 r \$0.sequencer.event.add.post;
#X obj 256 37 t a a;
#X msg 311 59 \$1;
#X obj 311 127 sel -1;
#X msg 311 152 1e+09;
#X obj 256 184 text insert \$0.sequence;
#X obj 256 11 r \$0.sequencer.event.add.pre;
#X obj 311 104 text search \$0.sequence > 0;
#X obj 311 82 - 1;
#X connect 0 0 4 0;
#X connect 0 1 1 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 2 1 4 1;
#X connect 3 0 4 1;
#X connect 5 0 2 0;
#X connect 6 0 0 0;
#X connect 7 0 11 0;
#X connect 7 1 8 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 9 1 11 1;
#X connect 10 0 11 1;
#X connect 12 0 7 0;
#X connect 13 0 9 0;
#X connect 14 0 13 0;
#X restore 15 132 pd event.add;
#N canvas 594 831 359 230 event.remove 0;
#X obj 47 110 text delete \$0.sequence;
#X obj 14 11 r \$0.sequencer.event.remove;
#X obj 14 80 sel -1;
#X obj 14 143 list append;
#X obj 14 34 t a a;
#X obj 14 189 s error;
#X msg 14 166 sequencer: note (id=\$2) not found for deletion;
#X obj 14 57 text search \$0.sequence 2 3;
#X text 186 55 remove by velocity and id;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X connect 3 0 6 0;
#X connect 4 0 7 0;
#X connect 4 1 3 1;
#X connect 6 0 5 0;
#X connect 7 0 2 0;
#X restore 15 155 pd event.remove;
#X msg 17 230 -1;
#X obj 17 253 text delete \$0.sequence;
#N canvas 0 99 572 389 note.change.velocity 0;
#X obj 24 39 route note;
#X obj 24 62 route change;
#X msg 24 135 \$1 \$2;
#X obj 24 85 route velocity;
#X obj 24 186 text search \$0.sequence 0 1;
#X obj 24 108 t a a;
#X msg 84 152 \$3;
#X obj 69 316 text set \$0.sequence;
#X msg 147 284 2;
#X obj 24 209 route -1;
#X obj 212 247 b;
#X obj 24 158 t a a;
#X obj 212 272 list append;
#X msg 212 296 sequence: note change velocity: note not found (\$1
\$2);
#X obj 212 319 s error;
#X obj 69 282 f;
#X obj 69 252 t b a b, f 13;
#X obj 24 16 r \$0.seq.receive;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 11 0;
#X connect 3 0 5 0;
#X connect 4 0 9 0;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 15 1;
#X connect 8 0 7 2;
#X connect 9 0 10 0;
#X connect 9 1 16 0;
#X connect 10 0 12 0;
#X connect 11 0 4 0;
#X connect 11 1 12 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 7 0;
#X connect 16 0 15 0;
#X connect 16 1 7 1;
#X connect 16 2 8 0;
#X connect 17 0 0 0;
#X restore 13 88 pd note.change.velocity;
#N canvas 0 99 415 480 play.notes.by.index 0;
#X obj 18 77 text search \$0.sequence 0;
#X obj 96 100 text search \$0.sequence > 0;
#X obj 18 52 t a a;
#X obj 18 98 sel -1;
#X obj 51 174 pack f f;
#X obj 51 200 t a a;
#X obj 51 248 -;
#X obj 51 271 until;
#X obj 51 297 f;
#X obj 51 320 t a a;
#X obj 112 302 + 1;
#X obj 90 344 loadbang;
#X msg 90 370 1;
#X msg 129 368 2;
#X obj 51 397 text get \$0.sequence;
#X obj 96 123 sel -1;
#X msg 51 225 \$2 \$1;
#X msg 120 240 \$1;
#X obj 96 147 text size \$0.sequence;
#X obj 18 17 inlet;
#X obj 51 420 outlet;
#X connect 0 0 3 0;
#X connect 1 0 15 0;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 16 0;
#X connect 5 1 17 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 9 1 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 14 1;
#X connect 13 0 14 2;
#X connect 14 0 20 0;
#X connect 15 0 18 0;
#X connect 15 1 4 1;
#X connect 16 0 6 0;
#X connect 17 0 8 1;
#X connect 18 0 4 1;
#X connect 19 0 2 0;
#X restore 248 189 pd play.notes.by.index;
#X obj 248 36 inlet;
#X obj 248 309 outlet;
#N canvas 0 157 416 332 cursor 0;
#X obj 23 15 inlet;
#X obj 23 117 moses 0;
#X obj 62 149 moses 0;
#X obj 62 172 t b a;
#X msg 62 216 1;
#X msg 23 216 0;
#X obj 23 254 change -1;
#X obj 23 277 s \$0.cursor.show;
#X obj 129 277 s \$0.cursor.pos;
#X obj 174 15 r \$0.stepsperpage;
#X obj 107 15 r \$0.page;
#X obj 174 38 t b a a;
#X obj 107 70 *;
#X obj 23 92 -;
#X obj 23 67 f;
#X obj 35 43 r \$0.redraw;
#X connect 0 0 14 0;
#X connect 1 0 5 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 3 1 8 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 11 2 2 1;
#X connect 12 0 13 1;
#X connect 13 0 1 0;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X restore 342 107 pd cursor;
#N canvas 258 224 446 426 bag 0;
#X obj 35 33 inlet;
#X obj 310 34 inlet;
#X obj 35 387 outlet;
#X obj 35 56 t a a;
#X obj 94 160 sel 0;
#X msg 94 183 -1;
#X obj 120 33 table \$0.note.state 127;
#X obj 141 177 tabread \$0.note.state;
#X msg 141 117 \$1;
#X obj 94 85 t a a;
#X obj 141 140 t a a;
#X obj 94 207 +;
#X obj 94 232 max 0;
#X obj 94 259 tabwrite \$0.note.state;
#X obj 94 133 > 0;
#X msg 94 108 \$2;
#N canvas 0 99 384 368 flush.notes 0;
#X obj 21 66 array max \$0.note.state;
#X obj 48 113 pack f f;
#X obj 21 89 sel 0;
#X obj 21 42 until;
#X obj 48 136 t a a;
#X msg 75 160 \$2 0;
#X obj 75 183 s \$0.note.state;
#X obj 48 213 unpack;
#X obj 48 236 until;
#X obj 48 259 f;
#X msg 48 282 \$1 0;
#X obj 21 10 inlet;
#X obj 48 313 outlet;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 1 0 4 0;
#X connect 2 0 3 1;
#X connect 2 1 1 0;
#X connect 3 0 0 0;
#X connect 4 0 7 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 7 1 9 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 3 0;
#X restore 310 250 pd flush.notes;
#N canvas 112 142 450 300 detect.leap 0;
#X obj 36 19 inlet;
#X obj 36 60 t a a;
#X obj 37 88 -;
#X obj 37 111 sel 1;
#X obj 64 136 b;
#X obj 64 172 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X restore 310 111 pd detect.leap;
#X connect 0 0 3 0;
#X connect 1 0 17 0;
#X connect 3 0 2 0;
#X connect 3 1 9 0;
#X connect 4 0 5 0;
#X connect 4 1 11 0;
#X connect 5 0 11 0;
#X connect 7 0 11 1;
#X connect 8 0 10 0;
#X connect 9 0 15 0;
#X connect 9 1 8 0;
#X connect 10 0 7 0;
#X connect 10 1 13 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 4 0;
#X connect 15 0 14 0;
#X connect 16 0 2 0;
#X connect 17 0 16 0;
#X restore 248 240 pd bag;
#X obj 248 59 t a a a a;
#N canvas 483 129 381 618 mute.deleted.note 0;
#X obj 274 33 inlet;
#X obj 127 542 outlet;
#X obj 24 39 route note;
#X obj 24 62 route delete;
#X obj 24 85 b;
#X obj 24 108 f;
#X obj 24 143 route -1;
#X obj 88 228 tabread \$0.step;
#X obj 130 207 tabread \$0.duration;
#X obj 88 251 t a a;
#X obj 115 276 +;
#X obj 61 287 moses;
#X obj 88 318 moses;
#X obj 61 241 f;
#X obj 69 177 t b a a a;
#X obj 159 304 tabread \$0.pitch;
#X obj 88 345 b;
#X obj 88 417 tabread \$0.note.state;
#X obj 88 368 f;
#X obj 88 391 t a a;
#X obj 88 442 moses 1;
#X obj 127 468 b;
#X obj 127 491 f;
#X msg 127 516 \$1 0;
#X obj 56 110 r \$0.delete.id;
#X obj 24 16 r \$0.seq.receive;
#X connect 0 0 13 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 1 14 0;
#X connect 7 0 9 0;
#X connect 8 0 10 1;
#X connect 9 0 11 1;
#X connect 9 1 10 0;
#X connect 10 0 12 1;
#X connect 11 1 12 0;
#X connect 12 0 16 0;
#X connect 13 0 11 0;
#X connect 14 0 13 0;
#X connect 14 1 7 0;
#X connect 14 2 8 0;
#X connect 14 3 15 0;
#X connect 15 0 18 1;
#X connect 16 0 18 0;
#X connect 17 0 20 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 19 1 22 1;
#X connect 20 1 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 1 0;
#X connect 24 0 5 1;
#X connect 25 0 2 0;
#X restore 312 144 pd mute.deleted.note;
#X obj 17 207 r \$0.clear;
#X text 286 240 keep track of playing notes;
#X connect 5 0 6 0;
#X connect 8 0 12 0;
#X connect 9 0 13 0;
#X connect 12 0 10 0;
#X connect 13 0 8 0;
#X connect 13 1 12 1;
#X connect 13 2 14 0;
#X connect 13 3 11 0;
#X connect 14 0 12 0;
#X connect 15 0 5 0;
#X restore 199 430 pd sequencer;
#X obj 20 521 outlet;
#X obj 20 364 inlet;
#X obj 199 461 outlet;
#X obj 199 367 inlet;
#X text 659 519 2018 \, Roman Haefeli;
#X obj 476 244 s \$1;
#X obj 461 49 r \$0.redraw;
#N canvas 294 116 748 530 redraw.notes 0;
#X obj 11 15 inlet;
#X obj 38 254 r \$0.page;
#X obj 80 282 r \$0.stepsperpage;
#X obj 38 307 *;
#X obj 38 330 t a a;
#X obj 65 356 +;
#X obj 11 386 moses;
#X obj 38 414 moses;
#X msg 11 41 1000;
#X obj 11 87 until;
#X obj 11 110 f;
#X obj 116 129 + 1;
#X obj 11 64 t a b;
#X msg 62 87 0;
#X obj 30 158 tabread \$0.active;
#X obj 11 133 t a a a;
#X obj 11 180 spigot;
#X obj 11 203 t a a;
#X obj 11 228 tabread \$0.step;
#X obj 38 437 b;
#X obj 38 460 f;
#X obj 216 287 t a;
#X obj 464 184 tabread \$0.step;
#X obj 479 164 tabread \$0.pitch;
#X obj 494 144 tabread \$0.velocity;
#X obj 509 124 tabread \$0.duration;
#X obj 524 104 tabread \$0.gid;
#X text 58 181 <- only active notes;
#X text 77 410 only notes that fit into current page;
#X obj 355 478 t a;
#X obj 449 76 t a a a a a a;
#X obj 449 210 pack f f f f f f;
#X text 574 236 id step pitch vel dur gid;
#X obj 449 247 s \$0.redraw.notes;
#X text 449 271 see [pd note.create] (process events);
#X connect 0 0 8 0;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 2 0 5 1;
#X connect 3 0 4 0;
#X connect 4 0 6 1;
#X connect 4 1 5 0;
#X connect 5 0 7 1;
#X connect 6 1 7 0;
#X connect 7 0 19 0;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 11 0 10 1;
#X connect 12 0 9 0;
#X connect 12 1 13 0;
#X connect 13 0 10 1;
#X connect 14 0 16 1;
#X connect 15 0 16 0;
#X connect 15 1 14 0;
#X connect 15 2 11 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 21 0;
#X connect 18 0 6 0;
#X connect 19 0 20 0;
#X connect 20 0 29 0;
#X connect 21 0 20 1;
#X connect 22 0 31 1;
#X connect 23 0 31 2;
#X connect 24 0 31 3;
#X connect 25 0 31 4;
#X connect 26 0 31 5;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 30 1 22 0;
#X connect 30 2 23 0;
#X connect 30 3 24 0;
#X connect 30 4 25 0;
#X connect 30 5 26 0;
#X connect 31 0 33 0;
#X restore 461 267 pd redraw.notes;
#X obj 565 306 array define \$0.active 1000;
#X obj 565 328 array define \$0.step 1000;
#X obj 565 351 array define \$0.pitch 1000;
#X obj 565 374 array define \$0.duration 1000;
#X obj 565 397 array define \$0.velocity 1000;
#X obj 565 420 array define \$0.gid 1000;
#N canvas 427 111 615 341 converters 0;
#N canvas 83 99 403 258 x->step 0;
#X obj 17 52 -;
#X obj 45 52 r \$0.canvasleftmargin;
#X obj 17 78 /;
#X obj 45 76 r \$0.stepviswidth;
#X obj 17 29 r \$0.convert.x->step.get;
#X obj 17 191 s \$0.convert.x->step;
#X obj 64 127 r \$0.page;
#X obj 92 152 r \$0.stepsperpage;
#X obj 64 152 *;
#X obj 17 146 +;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 2 0 9 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 9 1;
#X connect 9 0 5 0;
#X restore 15 18 pd x->step;
#N canvas 83 99 403 210 y->pitch 0;
#X obj 15 46 -;
#X obj 15 70 /;
#X obj 43 46 r \$0.canvastopmargin;
#X obj 43 70 r \$0.stepvisheight;
#X msg 15 95 83 \$1;
#X obj 15 118 -;
#X obj 15 17 r \$0.convert.y->pitch.get;
#X obj 15 147 s \$0.convert.y->pitch;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 0 1;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X restore 15 48 pd y->pitch;
#N canvas 0 99 405 189 x->step 0;
#X obj 40 63 s \$0.convert.x->step.get;
#X obj 40 85 r \$0.convert.x->step;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 135 18 pd x->step;
#N canvas 0 99 405 189 y->pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.y->pitch.get;
#X obj 40 85 r \$0.convert.y->pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 135 48 pd y->pitch;
#N canvas 83 99 403 258 step->x 0;
#X obj 51 117 r \$0.stepviswidth;
#X obj 17 118 *;
#X obj 17 151 +;
#X obj 50 151 r \$0.canvasleftmargin;
#X obj 17 29 r \$0.convert.step->x.get;
#X obj 17 186 s \$0.convert.step->x;
#X obj 64 57 r \$0.page;
#X obj 92 82 r \$0.stepsperpage;
#X obj 64 82 *;
#X obj 17 76 -;
#X connect 0 0 1 1;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 2 1;
#X connect 4 0 9 0;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 9 1;
#X connect 9 0 1 0;
#X restore 285 18 pd step->x;
#N canvas 83 99 403 210 pitch->y 0;
#X obj 15 94 *;
#X obj 15 127 +;
#X obj 49 93 r \$0.stepvisheight;
#X obj 48 127 r \$0.canvastopmargin;
#X obj 15 66 -;
#X obj 15 17 r \$0.convert.pitch->y.get;
#X obj 15 157 s \$0.convert.pitch->y;
#X msg 15 41 83 \$1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 7 0 4 0;
#X restore 285 48 pd pitch->y;
#N canvas 0 99 405 189 step->x 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.step->x.get;
#X obj 40 85 r \$0.convert.step->x;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 415 18 pd step->x;
#N canvas 0 99 405 189 pitch->y 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.pitch->y.get;
#X obj 40 85 r \$0.convert.pitch->y;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 415 48 pd pitch->y;
#N canvas 73 99 483 612 step|pitch->id 0;
#X obj 135 313 tabread \$0.step;
#X msg 135 94 1000;
#X obj 135 140 until;
#X obj 135 163 f;
#X obj 135 117 t a b;
#X msg 186 140 0;
#X obj 135 339 sel 0;
#X obj 135 364 f;
#X obj 135 409 tabread \$0.pitch;
#X obj 135 387 t a a;
#X obj 135 432 sel 0;
#X obj 135 480 f;
#X obj 135 455 t b b;
#X obj 275 349 b;
#X obj 135 71 t b a a;
#X msg 227 173 \$1;
#X msg 269 177 \$2;
#X obj 135 186 t a a a;
#X obj 192 175 + 1;
#X obj 135 289 t a a;
#X obj 135 262 f;
#X obj 135 213 tabread \$0.active;
#X obj 135 239 sel 1;
#X text 249 241 consider only 'active' notes;
#X obj 38 20 r \$0.convert.step|pitch->id.get;
#X obj 38 43 t b a b, f 33;
#X obj 38 566 s \$0.convert.step|pitch->id;
#X obj 38 527 f;
#X msg 233 494 -1;
#X text 262 492 -1: no such note;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 17 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 9 1 11 1;
#X connect 10 0 12 0;
#X connect 11 0 27 1;
#X connect 12 0 11 0;
#X connect 12 1 13 0;
#X connect 13 0 2 1;
#X connect 14 0 1 0;
#X connect 14 1 15 0;
#X connect 14 2 16 0;
#X connect 15 0 6 1;
#X connect 16 0 10 1;
#X connect 17 0 21 0;
#X connect 17 1 20 1;
#X connect 17 2 18 0;
#X connect 18 0 3 1;
#X connect 19 0 0 0;
#X connect 19 1 7 1;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 22 0 20 0;
#X connect 24 0 25 0;
#X connect 25 0 27 0;
#X connect 25 1 14 0;
#X connect 25 2 28 0;
#X connect 27 0 26 0;
#X connect 28 0 27 1;
#X restore 15 108 pd step|pitch->id;
#N canvas 80 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 135 108 pd step|pitch->id;
#N canvas 73 99 403 345 id->step|pitch 0;
#X obj 17 29 r \$0.convert.id->step|pitch.get;
#X obj 17 302 s \$0.convert.id->step|pitch;
#X obj 34 79 tabread \$0.active;
#X obj 34 102 sel 1;
#X obj 34 126 f;
#X obj 17 52 t b a a b;
#X obj 34 149 t a a;
#X obj 34 194 tabread \$0.step;
#X obj 61 173 tabread \$0.pitch;
#X obj 34 234 pack f f;
#X obj 17 275 list append;
#X msg 137 238 -1 0;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 10 0;
#X connect 5 1 2 0;
#X connect 5 2 4 1;
#X connect 5 3 11 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 9 0;
#X connect 8 0 9 1;
#X connect 9 0 10 1;
#X connect 10 0 1 0;
#X connect 11 0 10 1;
#X restore 285 108 pd id->step|pitch;
#N canvas 83 99 398 214 id->step|pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->step|pitch.get;
#X obj 40 86 r \$0.convert.id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 415 108 pd id->step|pitch;
#N canvas 73 91 434 455 id->pointer 0;
#X msg 125 330 -1;
#X obj 38 169 pointer \$0.note;
#X obj 38 107 until;
#X msg 38 130 next;
#X obj 38 192 t p p;
#X obj 88 111 symbol \$1;
#X msg 88 136 traverse \$1;
#X obj 38 248 get \$0.note id;
#X obj 38 273 select;
#X obj 184 187 t a;
#X obj 38 329 pointer;
#X obj 38 78 t b b a;
#X obj 38 20 r \$0.convert.id->pointer.get;
#X obj 38 376 s \$0.convert.id->pointer;
#X obj 125 202 t b b;
#X text 156 331 -1: no such scalar;
#X obj 38 296 t b b, f 23;
#X connect 0 0 13 0;
#X connect 1 0 4 0;
#X connect 1 2 14 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 7 0;
#X connect 4 1 10 1;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 16 0;
#X connect 9 0 8 1;
#X connect 10 0 13 0;
#X connect 11 0 2 0;
#X connect 11 1 5 0;
#X connect 11 2 9 0;
#X connect 12 0 11 0;
#X connect 14 0 0 0;
#X connect 14 1 2 1;
#X connect 16 0 10 0;
#X connect 16 1 2 1;
#X restore 15 138 pd id->pointer;
#N canvas 83 99 410 208 id->pointer 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->pointer.get;
#X obj 40 86 r \$0.convert.id->pointer;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 135 138 pd id->pointer;
#N canvas 83 99 403 345 pointer->id 0;
#X obj 17 29 r \$0.convert.pointer->id.get;
#X obj 17 302 s \$0.convert.pointer->id;
#X obj 17 90 get \$0.note id;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 285 138 pd pointer->id;
#N canvas 83 99 398 214 pointer->id 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.pointer->id.get;
#X obj 40 86 r \$0.convert.pointer->id;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 415 138 pd pointer->id;
#N canvas 83 99 403 210 w->duration 0;
#X obj 15 78 /;
#X obj 44 78 r \$0.stepviswidth;
#X obj 15 17 r \$0.convert.w->duration.get;
#X obj 15 147 s \$0.convert.w->duration;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X restore 15 78 pd w->duration;
#N canvas 0 99 405 189 w->duration 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 85 r \$0.convert.w->duration;
#X obj 40 63 s \$0.convert.w->duration.get;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 2 0 3 0;
#X connect 4 0 2 1;
#X restore 135 78 pd w->duration;
#N canvas 83 99 403 210 duration->w 0;
#X obj 47 78 r \$0.stepviswidth;
#X obj 15 77 *;
#X obj 15 17 r \$0.convert.duration->w.get;
#X obj 15 157 s \$0.convert.duration->w;
#X connect 0 0 1 1;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X restore 285 78 pd duration->w;
#N canvas 0 99 405 189 duration->w 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.duration->w.get;
#X obj 40 85 r \$0.convert.duration->w;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 415 78 pd duration->w;
#N canvas 83 99 403 254 gid->gclr 0;
#X obj 38 20 r \$0.convert.gid->gclr.get;
#X obj 77 189 s \$0.convert.gid->gclr;
#X obj 77 118 list store;
#X msg 77 72 get \$1 1;
#X obj 134 92 r \$0.gidcolorlist;
#X msg 134 142 -1;
#X obj 38 49 moses 0;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 2 1 5 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 6 1 3 0;
#X restore 15 168 pd gid->gclr;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 135 168 pd gid->gclr;
#X restore 19 95 pd converters;
#N canvas 342 165 401 476 inspector 0;
#X obj 42 89 t a a a a a a;
#X obj 117 113 tabread \$0.active;
#X obj 102 158 tabread \$0.step;
#X obj 87 205 tabread \$0.pitch;
#X obj 72 252 tabread \$0.duration;
#X obj 57 299 tabread \$0.velocity;
#X obj 42 349 tabread \$0.gid;
#X msg 42 372 gid \$1;
#X msg 57 322 velocity \$1;
#X msg 72 275 duration \$1;
#X msg 87 228 pitch \$1;
#X msg 117 136 active \$1;
#X obj 42 59 t a a, f 30;
#X obj 117 435 print NOTE;
#X floatatom 42 19 5 0 0 0 - - -;
#X msg 219 290 -- ID \$1 ------------;
#X msg 102 181 step \$1;
#X connect 0 0 6 0;
#X connect 0 1 5 0;
#X connect 0 2 4 0;
#X connect 0 3 3 0;
#X connect 0 4 2 0;
#X connect 0 5 1 0;
#X connect 1 0 11 0;
#X connect 2 0 16 0;
#X connect 3 0 10 0;
#X connect 4 0 9 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 8 0 13 0;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 0 0;
#X connect 12 1 15 0;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X connect 16 0 13 0;
#X restore 19 275 pd inspector;
#N canvas 0 99 393 172 errors 0;
#X obj 15 14 r error;
#X obj 15 37 print ERROR:;
#X connect 0 0 1 0;
#X restore 19 305 pd errors;
#X obj 20 387 t a a a;
#X obj 39 442 s \$0.seq.receive;
#N canvas 0 99 450 300 manaage.id 0;
#X obj 13 22 inlet;
#N canvas 0 99 391 254 prepend.id 0;
#X obj 32 66 array min \$0.active;
#X obj 32 89 sel 0;
#X obj 32 123 f;
#X obj 32 13 inlet;
#X obj 32 190 outlet;
#X obj 94 176 s error;
#X msg 94 152 note create: note buffer full!;
#X obj 59 123 t b b;
#X msg 59 146 -1;
#X obj 32 36 b;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 1 1 7 0;
#X connect 2 0 4 0;
#X connect 3 0 9 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 4 0;
#X connect 9 0 0 0;
#X restore 13 150 pd prepend.id;
#X obj 13 173 s \$0.create.id;
#X obj 13 45 route note;
#X obj 13 73 route create delete;
#N canvas 80 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 68 99 pd step|pitch->id;
#X obj 68 122 s \$0.delete.id;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X restore 59 417 pd manaage.id;
#N canvas 0 99 495 291 parse.config.commands 0;
#X obj 10 221 s;
#X obj 10 18 r \$0.global.receive;
#X obj 10 64 list split 1;
#X obj 10 106 list prepend \$0;
#X msg 10 129 symbol \$1.\$2;
#X obj 10 189 list append;
#X obj 10 152 t b a;
#X obj 239 180 s \$0.page;
#X obj 212 101 max 1;
#X obj 111 75 b;
#X obj 111 178 s \$0.redraw;
#X obj 212 124 t b a;
#X obj 239 155 - 1;
#X obj 10 41 route set redraw page clear, f 68;
#X obj 313 80 b;
#X obj 313 103 s \$0.clear;
#X connect 1 0 13 0;
#X connect 2 0 3 0;
#X connect 2 1 5 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 6 1 0 1;
#X connect 8 0 11 0;
#X connect 9 0 10 0;
#X connect 11 0 10 0;
#X connect 11 1 12 0;
#X connect 12 0 7 0;
#X connect 13 0 2 0;
#X connect 13 1 9 0;
#X connect 13 2 8 0;
#X connect 13 3 14 0;
#X connect 14 0 15 0;
#X restore 19 65 pd parse.config.commands;
#X obj 490 318 r \$0.clear;
#X msg 206 69 \; \$1.stepsperpage 64 \; \$1.page 0 \; \$1.pitchrange
48 \; \$1.stepviswidth 15 \; \$1.stepvisheight 14 \; \$1.canvastopmargin
53 \; \$1.canvasleftmargin 30 \; \$1.stepkeycolor1 887 \; \$1.stepkeycolor2
777 \; \$1.griddivision 4 \; \$1.gridsubdivision 4 \; \$1.gidcolorlist
800 840 80 68 408 808 \; \$1.default.vel 64 \; \$1.default.gid 0 \;
\$1.default.dur 4 \; \$1.default.show 0 \; \$1.redraw bang \;;
#X obj 461 78 t b b b b b b;
#N canvas 0 99 430 292 generate.events 0;
#N canvas 0 99 406 517 note.change.duration 0;
#X obj 14 19 r \$0.note.send;
#X obj 14 246 change -1;
#X obj 167 164 t a a;
#X obj 194 190 tabread \$0.duration;
#X msg 194 215 set \$1;
#X obj 14 376 list prepend;
#X obj 14 404 list prepend note change duration;
#X obj 14 427 list trim;
#X obj 14 455 s \$0.global.send;
#X obj 167 138 change -1;
#X obj 14 42 route change click;
#N canvas 83 99 398 214 id->step|pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->step|pitch.get;
#X obj 40 86 r \$0.convert.id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 167 272 pd id->step|pitch;
#N canvas 83 99 398 214 pointer->id 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.pointer->id.get;
#X obj 40 86 r \$0.convert.pointer->id;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 167 76 pd pointer->id;
#N canvas 0 99 405 189 w->duration 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 85 r \$0.convert.w->duration;
#X obj 40 63 s \$0.convert.w->duration.get;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 2 0 3 0;
#X connect 4 0 2 1;
#X restore 14 114 pd w->duration;
#X obj 14 85 get \$0.note w dur;
#X connect 0 0 10 0;
#X connect 1 0 5 0;
#X connect 2 0 11 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 2 0;
#X connect 10 0 14 0;
#X connect 10 1 12 0;
#X connect 11 0 5 1;
#X connect 12 0 9 0;
#X connect 13 0 1 0;
#X connect 14 0 13 0;
#X connect 14 1 1 0;
#X restore 16 67 pd note.change.duration;
#N canvas 104 99 719 620 note.create/delete 0;
#X obj 29 275 del 0;
#X obj 29 302 f;
#X msg 68 275 1;
#X msg 254 191 0;
#X obj 29 328 sel 1;
#N canvas 0 99 483 432 detect_double_click 0;
#X obj 91 101 -;
#X obj 90 76 t a a;
#X obj 19 23 inlet;
#X text 109 21 this detects two clicks on the same scalar within a
certain period.;
#X obj 19 75 t b b;
#X obj 19 99 del 300;
#X msg 19 122 0;
#X msg 52 123 1;
#X obj 19 48 t b a;
#X obj 91 166 spigot 0;
#X obj 91 203 outlet;
#X obj 91 126 sel 0;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 1 1 0 0;
#X connect 2 0 8 0;
#X connect 4 0 5 0;
#X connect 4 1 7 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 7 0 9 1;
#X connect 8 0 4 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 11 0 9 0;
#X restore 281 305 pd detect_double_click;
#X obj 254 109 unpack s p f;
#X obj 254 132 sel click;
#X obj 254 154 t b b;
#X obj 281 178 pointer;
#X obj 29 14 r \$0.horizgrid.send;
#X obj 29 77 route click;
#X obj 29 100 get \$0.horizgrid y;
#X obj 74 145 route click;
#X obj 74 122 r \$0.vertgrid.send;
#X obj 29 193 pack f f;
#X obj 74 168 get \$0.vertgrid x;
#X obj 29 242 t b b a;
#X obj 29 355 list append;
#X msg 29 216 \$2 \$1;
#X obj 254 79 r \$0.note.send;
#X text 103 358 x y;
#X obj 281 351 f;
#X text 72 467 step pitch;
#N canvas 0 190 318 251 append.vel.dur.gid 0;
#X obj 12 18 inlet;
#X obj 12 199 outlet;
#X obj 95 55 r \$0.default.vel;
#X obj 95 85 r \$0.default.dur;
#X obj 95 115 r \$0.default.gid;
#X obj 12 73 list append;
#X obj 12 103 list append;
#X obj 12 133 list append;
#X connect 0 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 6 1;
#X connect 4 0 7 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X restore 29 484 pd append.vel.dur.gid;
#X text 33 503 step pitch vel dur gid;
#X obj 29 519 list prepend note create;
#X obj 29 542 list trim;
#X obj 29 565 s \$0.global.send;
#X obj 281 328 b;
#X obj 281 282 t a a;
#X obj 326 508 list trim;
#X obj 326 531 s \$0.global.send;
#X obj 326 485 list prepend note delete;
#N canvas 0 99 405 189 x->step 0;
#X obj 40 63 s \$0.convert.x->step.get;
#X obj 40 85 r \$0.convert.x->step;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 29 402 pd x->step;
#N canvas 0 99 405 189 y->pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.y->pitch.get;
#X obj 40 85 r \$0.convert.y->pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 104 402 pd y->pitch;
#X obj 29 378 unpack f f, f 13;
#X obj 29 432 pack f f, f 13;
#N canvas 83 99 398 214 pointer->id 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.pointer->id.get;
#X obj 40 86 r \$0.convert.pointer->id;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 281 203 pd pointer->id;
#N canvas 73 91 398 214 id->step|pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->step|pitch.get;
#X obj 40 86 r \$0.convert.id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 281 382 pd id->step|pitch;
#X obj 281 405 route -1;
#X msg 281 430 note delete: inconsistency in note cache detected;
#X obj 281 455 s error;
#X obj 29 47 spigot 1;
#X obj 107 61 == 0;
#X obj 281 229 list prepend 0;
#X obj 281 252 route 0 1, f 24;
#X text 252 8 Shift+click deletes a note (like double-click);
#X obj 107 38 r \$0.mod.key;
#X obj 390 204 r \$0.mod.key;
#N canvas 0 99 400 375 mod.keys 0;
#X obj 25 15 keyname;
#X obj 25 37 pack f s;
#X msg 25 59 \$2 \$1;
#X obj 25 135 ||;
#X obj 86 109 t b a;
#X obj 25 230 change -1;
#X obj 25 253 s \$0.mod.key;
#X obj 25 83 route Shift_L Shift_R Control_L Control_R;
#X obj 146 132 ||;
#X obj 207 108 t b a;
#X obj 146 155 << 1;
#X obj 25 204 +;
#X obj 146 178 t b a;
#X text 44 287 Modifier key bitmask:;
#X text 44 307 ---X Shift;
#X text 44 327 --x- Ctrl;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 11 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 6 0;
#X connect 7 0 3 0;
#X connect 7 1 4 0;
#X connect 7 2 8 0;
#X connect 7 3 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 9 1 8 1;
#X connect 10 0 12 0;
#X connect 11 0 5 0;
#X connect 12 0 11 0;
#X connect 12 1 11 1;
#X restore 463 86 pd mod.keys;
#X obj 390 227 == 1;
#X text 431 223 Shift-Click;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 18 0;
#X connect 5 0 29 0;
#X connect 6 0 7 0;
#X connect 6 1 9 1;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 8 1 9 0;
#X connect 9 0 38 0;
#X connect 10 0 43 0;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 15 0 19 0;
#X connect 16 0 15 1;
#X connect 17 0 0 0;
#X connect 17 1 2 0;
#X connect 17 2 18 1;
#X connect 18 0 36 0;
#X connect 19 0 17 0;
#X connect 20 0 6 0;
#X connect 22 0 39 0;
#X connect 24 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 29 0 22 0;
#X connect 30 0 5 0;
#X connect 30 1 22 1;
#X connect 31 0 32 0;
#X connect 33 0 31 0;
#X connect 34 0 37 0;
#X connect 35 0 37 1;
#X connect 36 0 34 0;
#X connect 36 1 35 0;
#X connect 37 0 24 0;
#X connect 38 0 45 0;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 40 1 33 0;
#X connect 41 0 42 0;
#X connect 43 0 11 0;
#X connect 44 0 43 1;
#X connect 45 0 46 0;
#X connect 46 0 30 0;
#X connect 46 1 39 0;
#X connect 48 0 44 0;
#X connect 49 0 51 0;
#X connect 51 0 45 1;
#X restore 16 42 pd note.create/delete;
#N canvas 0 99 406 517 note.change.velocity 0;
#X obj 14 19 r \$0.note.send;
#X obj 14 42 route change;
#X obj 14 226 change -1;
#X obj 120 144 t a a;
#X msg 147 195 set \$1;
#X obj 14 356 list prepend;
#X obj 14 407 list trim;
#X obj 14 435 s \$0.global.send;
#X obj 120 118 change -1;
#X obj 14 65 get \$0.note vel id;
#X obj 147 170 tabread \$0.velocity;
#X obj 14 384 list prepend note change velocity;
#N canvas 83 99 398 214 id->step|pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->step|pitch.get;
#X obj 40 86 r \$0.convert.id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 120 242 pd id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 2 0 5 0;
#X connect 3 0 12 0;
#X connect 3 1 10 0;
#X connect 4 0 2 0;
#X connect 5 0 11 0;
#X connect 6 0 7 0;
#X connect 8 0 3 0;
#X connect 9 0 2 0;
#X connect 9 1 8 0;
#X connect 10 0 4 0;
#X connect 11 0 6 0;
#X connect 12 0 5 1;
#X restore 16 92 pd note.change.velocity;
#N canvas 0 99 406 517 note.change.gid 0;
#X obj 14 19 r \$0.note.send;
#X obj 14 42 route change;
#X obj 14 226 change -1;
#X obj 119 144 t a a;
#X msg 146 195 set \$1;
#X obj 14 356 list prepend;
#X obj 14 407 list trim;
#X obj 14 435 s \$0.global.send;
#X obj 119 118 change -1;
#X obj 146 170 tabread \$0.gid;
#X obj 14 384 list prepend note change gid;
#X obj 14 65 get \$0.note gid id;
#N canvas 83 99 398 214 id->step|pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->step|pitch.get;
#X obj 40 86 r \$0.convert.id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 119 247 pd id->step|pitch;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 12 0;
#X connect 3 1 9 0;
#X connect 4 0 2 0;
#X connect 5 0 10 0;
#X connect 6 0 7 0;
#X connect 8 0 3 0;
#X connect 9 0 4 0;
#X connect 10 0 6 0;
#X connect 11 0 2 0;
#X connect 11 1 8 0;
#X connect 12 0 5 1;
#X restore 16 116 pd note.change.gid;
#N canvas 0 99 570 525 note.edit.modes 0;
#X obj 14 19 r \$0.note.send;
#X obj 14 435 s \$0.global.send;
#X obj 14 42 route click;
#X obj 14 65 get \$0.note id;
#N canvas 36 115 405 333 gid 0;
#X obj 40 173 tabread \$0.gid;
#X obj 29 120 r \$0.default.gid;
#X obj 14 143 f;
#X obj 14 203 sel;
#X obj 14 96 spigot 0;
#X obj 14 52 t b a;
#X obj 14 22 inlet;
#X obj 14 262 outlet;
#X obj 59 71 route gid;
#X msg 14 231 gid \$1;
#X obj 59 48 r \$0.edit.modes;
#X connect 0 0 3 1;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 1 9 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 5 1 0 0;
#X connect 6 0 5 0;
#X connect 8 0 4 1;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X restore 14 179 pd gid;
#N canvas 36 115 406 316 dur 0;
#X obj 14 143 f;
#X obj 14 203 sel;
#X obj 59 48 r \$0.edit.modes;
#X obj 14 96 spigot 0;
#X obj 14 52 t b a;
#X obj 14 22 inlet;
#X obj 59 71 route duration;
#X obj 29 120 r \$0.default.dur;
#X obj 40 173 tabread \$0.duration;
#X obj 14 262 outlet;
#X msg 14 231 duration \$1;
#X connect 0 0 1 0;
#X connect 1 1 10 0;
#X connect 2 0 6 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 4 1 8 0;
#X connect 5 0 4 0;
#X connect 6 0 3 1;
#X connect 7 0 0 1;
#X connect 8 0 1 1;
#X connect 10 0 9 0;
#X restore 64 179 pd dur;
#N canvas 36 115 407 294 vel 0;
#X obj 14 143 f;
#X obj 14 203 sel;
#X obj 59 48 r \$0.edit.modes;
#X obj 14 96 spigot 0;
#X obj 14 52 t b a;
#X obj 14 22 inlet;
#X obj 59 71 route velocity;
#X obj 40 172 tabread \$0.velocity;
#X obj 14 262 outlet;
#X msg 14 231 velocity \$1;
#X obj 29 120 r \$0.default.vel;
#X connect 0 0 1 0;
#X connect 1 1 9 0;
#X connect 2 0 6 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 4 1 7 0;
#X connect 5 0 4 0;
#X connect 6 0 3 1;
#X connect 7 0 1 1;
#X connect 9 0 8 0;
#X connect 10 0 0 1;
#X restore 114 179 pd vel;
#X obj 164 183 tabread \$0.step;
#X obj 215 160 tabread \$0.pitch;
#X obj 14 114 t a a a a a, f 34;
#X obj 164 206 pack f f;
#X obj 14 228 list split 1;
#X obj 14 280 list prepend note change;
#X obj 14 303 list append;
#X obj 14 326 list append;
#X obj 14 349 list trim;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 11 0;
#X connect 5 0 11 0;
#X connect 6 0 11 0;
#X connect 7 0 10 0;
#X connect 8 0 10 1;
#X connect 9 0 4 0;
#X connect 9 1 5 0;
#X connect 9 2 6 0;
#X connect 9 3 7 0;
#X connect 9 4 8 0;
#X connect 10 0 13 1;
#X connect 11 0 12 0;
#X connect 11 1 14 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 1 0;
#X restore 16 141 pd note.edit.modes;
#N canvas 436 166 420 655 note.select 0;
#X obj 19 64 r \$0.horizgrid.send;
#X obj 19 127 route click;
#X obj 19 150 get \$0.horizgrid y;
#X obj 64 195 route click;
#X obj 64 172 r \$0.vertgrid.send;
#X obj 19 243 pack f f;
#X obj 64 218 get \$0.vertgrid x;
#X msg 19 266 \$2 \$1;
#N canvas 0 99 405 189 x->step 0;
#X obj 40 63 s \$0.convert.x->step.get;
#X obj 40 85 r \$0.convert.x->step;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 19 312 pd x->step;
#N canvas 0 99 405 189 y->pitch 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.y->pitch.get;
#X obj 40 85 r \$0.convert.y->pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 94 312 pd y->pitch;
#X obj 19 288 unpack f f, f 13;
#X obj 19 342 pack f f, f 13;
#X obj 19 97 spigot 1;
#X obj 97 88 r \$0.mod.key;
#X obj 97 111 == 2;
#X obj 161 343 r \$0.mod.key;
#X obj 161 366 == 2;
#X obj 161 389 change -1;
#X obj 19 365 spigot;
#X obj 161 415 sel 0;
#X obj 19 388 t b a;
#X obj 19 424 f;
#X obj 19 447 t a a;
#X obj 66 440 + 1;
#X msg 161 438 0;
#X obj 19 476 list append;
#X obj 19 505 route 1 0;
#X obj 69 537 unpack;
#X obj 19 576 pack f f f f;
#X obj 19 622 s \$0.global.receive;
#X msg 19 599 note select \$3 \$4 \$1 \$2;
#X text 142 624 <- we use the selection only locally;
#X text 182 599 [step \, pitch] \, [step \, pitch];
#X text 23 9 A selection range is defined by drawing a virtual rectangle
by clicking on two coordinates on the grid with Ctrl-key pressed.;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 11 1;
#X connect 10 0 8 0;
#X connect 10 1 9 0;
#X connect 11 0 18 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 24 0;
#X connect 20 0 21 0;
#X connect 20 1 25 1;
#X connect 21 0 22 0;
#X connect 22 0 25 0;
#X connect 22 1 23 0;
#X connect 23 0 21 1;
#X connect 24 0 21 1;
#X connect 25 0 26 0;
#X connect 26 0 28 0;
#X connect 26 1 27 0;
#X connect 27 0 28 2;
#X connect 27 1 28 3;
#X connect 28 0 30 0;
#X connect 30 0 29 0;
#X restore 16 166 pd note.select;
#X text 15 17 GENERATE EVENTS;
#N canvas 336 294 403 183 note.unselect 0;
#X obj 25 17 keyname;
#X obj 25 40 pack f s;
#X obj 25 63 route 1;
#X obj 25 86 route Escape;
#X obj 25 133 s \$0.global.receive;
#X text 148 135 <- we use the selection only locally;
#X msg 25 110 note unselect;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 6 0 4 0;
#X restore 16 191 pd note.unselect;
#X restore 19 125 pd generate.events;
#N canvas 0 99 413 279 process.events 0;
#N canvas 109 324 713 500 note.create 0;
#X obj 6 8 r \$0.global.receive;
#X obj 6 31 route note;
#X obj 6 54 route create;
#X text 95 56 step pitch vel dur gid;
#X obj 119 183 s \$0.active;
#X obj 196 183 s \$0.step;
#X obj 259 183 s \$0.pitch;
#X obj 417 183 s \$0.duration;
#X obj 328 183 s \$0.velocity;
#X obj 508 183 s \$0.gid;
#X msg 119 148 \$1 1;
#X obj 6 100 t a a;
#X msg 196 148 \$1 \$2;
#X msg 259 148 \$1 \$3;
#X msg 328 148 \$1 \$4;
#X msg 417 148 \$1 \$5;
#X msg 508 148 \$1 \$6;
#X obj 6 419 list prepend scalar \$0.note;
#X obj 6 442 list trim;
#N canvas 16 91 407 242 w 0;
#X obj 7 21 inlet;
#X obj 7 175 outlet;
#X msg 7 44 \$5;
#N canvas 0 99 405 189 duration->w 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.duration->w.get;
#X obj 40 85 r \$0.convert.duration->w;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 7 87 pd duration->w;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 86 291 pd w;
#N canvas 6 83 432 235 h 0;
#X obj 7 21 inlet;
#X obj 7 159 outlet;
#X obj 42 79 r \$0.stepvisheight;
#X obj 42 102 - 1;
#X obj 7 88 f;
#X obj 7 44 b;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X connect 5 0 4 0;
#X restore 126 291 pd h;
#N canvas 16 99 410 257 id 0;
#X obj 7 21 inlet;
#X obj 7 211 outlet;
#X msg 7 93 \$1;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 166 291 pd id;
#N canvas 125 91 416 204 gid 0;
#X obj 7 21 inlet;
#X obj 7 137 outlet;
#X msg 7 72 \$6;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 207 291 pd gid;
#N canvas 15 91 396 215 vel 0;
#X obj 20 21 inlet;
#X obj 20 162 outlet;
#X msg 20 76 \$4;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 257 291 pd vel;
#N canvas 16 91 427 356 c 0;
#X obj 7 21 inlet;
#X obj 7 262 outlet;
#N canvas 320 203 446 363 clr.* 0;
#X obj 28 62 t a a a;
#X obj 28 112 div 100;
#X obj 78 113 mod 100;
#X obj 78 136 div 10;
#X obj 128 112 mod 10;
#X obj 28 165 *;
#X obj 28 188 int;
#X obj 78 165 *;
#X obj 78 188 int;
#X obj 128 165 *;
#X obj 128 188 int;
#X obj 230 103 inlet;
#X obj 28 212 min 9;
#X obj 78 212 min 9;
#X obj 128 212 min 9;
#X obj 28 235 * 100;
#X obj 78 235 * 10;
#X obj 128 235 * 1;
#X obj 28 262 +;
#X obj 28 285 +;
#X obj 28 311 outlet;
#X obj 28 24 inlet;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 9 1;
#X connect 11 0 7 1;
#X connect 11 0 5 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 7 221 pd clr.*;
#X obj 109 120 / 113;
#X obj 7 44 t a a;
#X msg 7 82 \$6;
#X msg 109 94 \$4;
#N canvas 73 91 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 7 117 pd gid->gclr;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X restore 346 291 pd c;
#N canvas 16 91 414 215 vis 0;
#X obj 7 21 inlet;
#X obj 7 126 outlet;
#X msg 7 74 1;
#X obj 7 44 b;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X restore 378 291 pd vis;
#N canvas 16 91 407 242 x 0;
#X obj 7 21 inlet;
#X obj 7 185 outlet;
#X msg 7 44 \$2;
#N canvas 0 99 405 189 step->x 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.step->x.get;
#X obj 40 85 r \$0.convert.step->x;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 7 95 pd step->x;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 6 291 pd x;
#N canvas 14 286 432 235 y 0;
#X obj 7 21 inlet;
#X obj 7 169 outlet;
#N canvas 0 99 405 189 pitch->y 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.pitch->y.get;
#X obj 40 85 r \$0.convert.pitch->y;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 7 95 pd pitch->y;
#X msg 7 57 \$3;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X restore 46 291 pd y;
#X obj 6 473 s \$1;
#X obj 17 214 r \$0.redraw.notes;
#N canvas 15 91 396 215 dur 0;
#X obj 20 21 inlet;
#X obj 20 162 outlet;
#X msg 20 76 \$5;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 302 291 pd dur;
#X obj 89 76 r \$0.create.id;
#X obj 6 77 list prepend;
#X obj 6 252 t a a a a a a a a a a a, f 57;
#X obj 6 355 pack f f f f f f f f f f f, f 57;
#N canvas 16 99 414 215 mrk 0;
#X obj 7 21 inlet;
#X obj 7 160 outlet;
#X msg 7 44 \$1;
#X obj 7 67 tabread \$0.marked;
#X obj 7 90 sel 0 1;
#X msg 7 113 444;
#X msg 35 112 808;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X restore 423 291 pd mrk;
#X text 20 389 x y w h id gid vel dur c vis mrk;
#X obj 568 183 s \$0.marked;
#X msg 568 148 \$1 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 32 0;
#X connect 10 0 4 0;
#X connect 11 0 33 0;
#X connect 11 1 10 0;
#X connect 11 1 12 0;
#X connect 11 1 13 0;
#X connect 11 1 14 0;
#X connect 11 1 15 0;
#X connect 11 1 16 0;
#X connect 11 1 38 0;
#X connect 12 0 5 0;
#X connect 13 0 6 0;
#X connect 14 0 8 0;
#X connect 15 0 7 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 28 0;
#X connect 19 0 34 2;
#X connect 20 0 34 3;
#X connect 21 0 34 4;
#X connect 22 0 34 5;
#X connect 23 0 34 6;
#X connect 24 0 34 8;
#X connect 25 0 34 9;
#X connect 26 0 34 0;
#X connect 27 0 34 1;
#X connect 29 0 33 0;
#X connect 30 0 34 7;
#X connect 31 0 32 1;
#X connect 32 0 11 0;
#X connect 33 0 26 0;
#X connect 33 1 27 0;
#X connect 33 2 19 0;
#X connect 33 3 20 0;
#X connect 33 4 21 0;
#X connect 33 5 22 0;
#X connect 33 6 23 0;
#X connect 33 7 30 0;
#X connect 33 8 24 0;
#X connect 33 9 25 0;
#X connect 33 10 35 0;
#X connect 34 0 17 0;
#X connect 35 0 34 10;
#X connect 38 0 37 0;
#X restore 19 18 pd note.create;
#N canvas 166 454 345 548 note.delete 0;
#X obj 6 8 r \$0.global.receive;
#X obj 6 31 route note;
#X obj 6 54 route delete;
#X obj 51 492 s \$0.active;
#X msg 51 465 \$1 0;
#X msg 161 423 5;
#X msg 123 422 5;
#X obj 78 327 f;
#N canvas 73 91 410 208 id->pointer 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->pointer.get;
#X obj 40 86 r \$0.convert.id->pointer;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 78 354 pd id->pointer;
#X obj 6 152 route -1;
#X obj 6 175 b;
#X msg 6 229 note delete: no such note (\$1 \$2);
#X obj 6 256 s error;
#X obj 6 198 list append;
#X obj 51 303 t a a;
#X obj 78 377 route -1;
#X obj 123 448 set \$0.note x y id vis, f 26;
#X obj 123 399 t b b b b p, f 26;
#X msg 199 422 -1;
#X msg 237 424 0;
#X obj 6 77 t b a;
#X obj 6 107 f;
#X obj 37 108 r \$0.delete.id;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 20 0;
#X connect 4 0 3 0;
#X connect 5 0 16 1;
#X connect 6 0 16 0;
#X connect 7 0 8 0;
#X connect 8 0 15 0;
#X connect 9 0 10 0;
#X connect 9 1 14 0;
#X connect 10 0 13 0;
#X connect 11 0 12 0;
#X connect 13 0 11 0;
#X connect 14 0 4 0;
#X connect 14 1 7 0;
#X connect 15 1 17 0;
#X connect 17 0 6 0;
#X connect 17 1 5 0;
#X connect 17 2 18 0;
#X connect 17 3 19 0;
#X connect 17 4 16 4;
#X connect 18 0 16 2;
#X connect 19 0 16 3;
#X connect 20 0 21 0;
#X connect 20 1 13 1;
#X connect 21 0 9 0;
#X connect 22 0 21 1;
#X restore 19 41 pd note.delete;
#N canvas 0 209 422 584 note.change.duration 0;
#X obj 6 8 r \$0.global.receive;
#X obj 6 31 route note;
#X obj 6 54 route change;
#X obj 6 77 route duration;
#X obj 6 100 t a a, f 49;
#X msg 297 155 \$3;
#X msg 6 123 \$1 \$2;
#X obj 51 392 pack f f;
#X obj 51 433 s \$0.duration;
#N canvas 83 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 6 168 pd step|pitch->id;
#N canvas 83 99 410 208 id->pointer 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->pointer.get;
#X obj 40 86 r \$0.convert.id->pointer;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 165 384 pd id->pointer;
#N canvas 0 99 405 189 duration->w 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.duration->w.get;
#X obj 40 85 r \$0.convert.duration->w;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 210 510 pd duration->w;
#X obj 6 194 route -1;
#X obj 6 145 t a a;
#X obj 6 217 b;
#X obj 6 298 s error;
#X obj 6 240 list append;
#X msg 6 271 note change duration: no such note (\$1 \$2);
#X obj 165 407 route -1;
#X obj 210 456 f;
#X obj 210 433 t b p;
#X text 334 159 duration;
#X obj 51 329 t a a;
#X obj 210 543 set \$0.note w dur;
#X obj 210 479 t a a;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 19 1;
#X connect 5 0 7 1;
#X connect 6 0 13 0;
#X connect 7 0 8 0;
#X connect 9 0 12 0;
#X connect 10 0 18 0;
#X connect 11 0 23 0;
#X connect 12 0 14 0;
#X connect 12 1 22 0;
#X connect 13 0 9 0;
#X connect 13 1 16 1;
#X connect 14 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 18 1 20 0;
#X connect 19 0 24 0;
#X connect 20 0 19 0;
#X connect 20 1 23 2;
#X connect 22 0 7 0;
#X connect 22 1 10 0;
#X connect 24 0 11 0;
#X connect 24 1 23 1;
#X restore 19 64 pd note.change.duration;
#N canvas 103 249 385 658 note.change.velocity 0;
#X obj 6 8 r \$0.global.receive;
#X obj 6 31 route note;
#X obj 6 54 route change;
#X obj 51 410 pack f f;
#X obj 6 77 route velocity;
#X obj 51 450 s \$0.velocity;
#N canvas 320 203 446 363 clr.* 0;
#X obj 28 62 t a a a;
#X obj 28 112 div 100;
#X obj 78 113 mod 100;
#X obj 78 136 div 10;
#X obj 128 112 mod 10;
#X obj 28 165 *;
#X obj 28 188 int;
#X obj 78 165 *;
#X obj 78 188 int;
#X obj 128 165 *;
#X obj 128 188 int;
#X obj 230 103 inlet;
#X obj 28 212 min 9;
#X obj 78 212 min 9;
#X obj 128 212 min 9;
#X obj 28 235 * 100;
#X obj 78 235 * 10;
#X obj 128 235 * 1;
#X obj 28 262 +;
#X obj 28 285 +;
#X obj 28 311 outlet;
#X obj 28 24 inlet;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 9 1;
#X connect 11 0 7 1;
#X connect 11 0 5 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 271 569 pd clr.*;
#X obj 317 508 / 113;
#X obj 216 608 set \$0.note vel c, f 19;
#X obj 51 321 t a a;
#X obj 271 480 get \$0.note gid;
#N canvas 83 99 410 208 id->pointer 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->pointer.get;
#X obj 40 86 r \$0.convert.id->pointer;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 171 353 pd id->pointer;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 271 537 pd gid->gclr;
#X obj 6 100 t a a, f 38;
#X msg 6 123 \$1 \$2;
#N canvas 83 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 6 168 pd step|pitch->id;
#X obj 6 194 route -1;
#X obj 6 145 t a a;
#X obj 6 217 b;
#X obj 6 298 s error;
#X obj 6 240 list append;
#X msg 6 271 note change velocity: no such note (\$1 \$2);
#X msg 231 135 \$3;
#X text 258 135 velocity;
#X obj 171 376 route -1;
#X obj 216 478 f;
#X obj 231 400 t a a;
#X obj 216 435 t b p p, f 19;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 13 0;
#X connect 6 0 8 1;
#X connect 7 0 6 1;
#X connect 9 0 3 0;
#X connect 9 1 11 0;
#X connect 10 0 12 0;
#X connect 11 0 24 0;
#X connect 12 0 6 0;
#X connect 13 0 14 0;
#X connect 13 1 22 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X connect 16 1 9 0;
#X connect 17 0 15 0;
#X connect 17 1 20 1;
#X connect 18 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 19 0;
#X connect 22 0 3 1;
#X connect 22 0 26 0;
#X connect 24 1 27 0;
#X connect 25 0 8 0;
#X connect 26 0 25 1;
#X connect 26 1 7 0;
#X connect 27 0 25 0;
#X connect 27 1 10 0;
#X connect 27 2 8 2;
#X restore 19 87 pd note.change.velocity;
#N canvas 202 202 384 665 note.change.gid 0;
#X obj 6 8 r \$0.global.receive;
#X obj 6 31 route note;
#X obj 6 54 route change;
#X obj 6 77 route gid;
#N canvas 83 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 6 175 pd step|pitch->id;
#X obj 6 198 route -1;
#X obj 6 100 t a a, f 35;
#X msg 6 128 \$1 \$2;
#X obj 6 224 b;
#X obj 6 305 s error;
#X obj 6 247 list append;
#X msg 6 278 note change gid: no such note (\$1 \$2);
#X obj 6 151 t a a;
#X msg 213 129 \$3;
#N canvas 320 203 446 363 clr.* 0;
#X obj 28 62 t a a a;
#X obj 28 112 div 100;
#X obj 78 113 mod 100;
#X obj 78 136 div 10;
#X obj 128 112 mod 10;
#X obj 28 165 *;
#X obj 28 188 int;
#X obj 78 165 *;
#X obj 78 188 int;
#X obj 128 165 *;
#X obj 128 188 int;
#X obj 230 103 inlet;
#X obj 28 212 min 9;
#X obj 78 212 min 9;
#X obj 128 212 min 9;
#X obj 28 235 * 100;
#X obj 78 235 * 10;
#X obj 128 235 * 1;
#X obj 28 262 +;
#X obj 28 285 +;
#X obj 28 311 outlet;
#X obj 28 24 inlet;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 9 1;
#X connect 11 0 7 1;
#X connect 11 0 5 1;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 199 577 pd clr.*;
#X obj 227 511 / 113;
#N canvas 83 99 410 208 id->pointer 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->pointer.get;
#X obj 40 86 r \$0.convert.id->pointer;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 127 366 pd id->pointer;
#N canvas 83 99 410 208 gid->gclr 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.gid->gclr.get;
#X obj 40 86 r \$0.convert.gid->gclr;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 199 545 pd gid->gclr;
#X obj 127 389 route -1;
#X obj 172 491 f;
#X obj 172 448 t b p p, f 19;
#X obj 51 363 pack f f;
#X obj 51 325 t a a;
#X obj 51 390 s \$0.gid;
#X obj 227 483 get \$0.note vel;
#X obj 172 621 set \$0.note gid c, f 19;
#X obj 172 514 t a a;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 5 1 22 0;
#X connect 6 0 7 0;
#X connect 6 1 13 0;
#X connect 7 0 12 0;
#X connect 8 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 12 0 4 0;
#X connect 12 1 10 1;
#X connect 13 0 21 1;
#X connect 13 0 19 1;
#X connect 14 0 25 1;
#X connect 15 0 14 1;
#X connect 16 0 18 0;
#X connect 17 0 14 0;
#X connect 18 1 20 0;
#X connect 19 0 26 0;
#X connect 20 0 19 0;
#X connect 20 1 24 0;
#X connect 20 2 25 2;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 22 1 16 0;
#X connect 24 0 15 0;
#X connect 26 0 25 0;
#X connect 26 1 17 0;
#X restore 19 110 pd note.change.gid;
#N canvas 0 264 347 307 note.select 0;
#N canvas 73 99 380 620 get.selected.ids 0;
#X obj 39 309 tabread \$0.step;
#X msg 39 90 1000;
#X obj 39 136 until;
#X obj 39 159 f;
#X obj 39 113 t a b;
#X msg 90 136 0;
#X obj 66 404 f;
#X obj 66 449 tabread \$0.pitch;
#X obj 66 427 t a a;
#X obj 93 545 f;
#X obj 39 182 t a a a;
#X obj 96 171 + 1;
#X obj 39 285 t a a;
#X obj 39 258 f;
#X obj 39 210 tabread \$0.active;
#X obj 39 235 sel 1;
#X text 98 235 consider only 'active' notes;
#X obj 39 20 inlet;
#X obj 93 579 outlet;
#X obj 39 67 t b a a, f 31;
#X msg 130 92 \$1 \$3;
#X obj 39 333 moses;
#X obj 66 358 moses;
#X obj 130 285 unpack;
#X obj 163 312 + 1;
#X obj 66 381 b;
#X obj 66 473 moses;
#X obj 93 498 moses;
#X obj 222 407 unpack;
#X obj 255 434 + 1;
#X obj 93 521 b;
#X msg 222 267 \$2 \$4;
#X obj 222 290 t a a;
#X obj 222 312 >;
#X obj 222 335 list append;
#X obj 222 358 route 0 1;
#X msg 247 379 \$2 \$1;
#X obj 130 114 t a a;
#X obj 130 136 >;
#X obj 130 159 list append;
#X obj 130 182 route 0 1;
#X msg 155 203 \$2 \$1;
#X connect 0 0 21 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 3 1;
#X connect 6 0 8 0;
#X connect 7 0 26 0;
#X connect 8 0 7 0;
#X connect 8 1 9 1;
#X connect 9 0 18 0;
#X connect 10 0 14 0;
#X connect 10 1 13 1;
#X connect 10 2 11 0;
#X connect 11 0 3 1;
#X connect 12 0 0 0;
#X connect 12 1 6 1;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 17 0 19 0;
#X connect 19 0 1 0;
#X connect 19 1 20 0;
#X connect 19 2 31 0;
#X connect 20 0 37 0;
#X connect 21 1 22 0;
#X connect 22 0 25 0;
#X connect 23 0 21 1;
#X connect 23 1 24 0;
#X connect 24 0 22 1;
#X connect 25 0 6 0;
#X connect 26 1 27 0;
#X connect 27 0 30 0;
#X connect 28 0 26 1;
#X connect 28 1 29 0;
#X connect 29 0 27 1;
#X connect 30 0 9 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 1 34 1;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 28 0;
#X connect 35 1 36 0;
#X connect 36 0 28 0;
#X connect 37 0 38 0;
#X connect 37 1 39 1;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 23 0;
#X connect 40 1 41 0;
#X connect 41 0 23 0;
#X restore 36 165 pd get.selected.ids;
#X obj 17 21 r \$0.global.receive;
#X obj 17 44 route note;
#X obj 17 67 route select;
#X obj 36 219 s \$0.marked;
#X msg 36 193 \$1 1;
#X obj 17 273 s \$0.redraw;
#X msg 56 117 const 0;
#X obj 56 140 s \$0.marked;
#X obj 17 90 t b a b;
#X obj 17 243 del 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 5 0 4 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 9 1 0 0;
#X connect 9 2 7 0;
#X connect 10 0 6 0;
#X restore 19 133 pd note.select;
#N canvas 1 99 452 346 dump 0;
#X obj 15 20 r \$0.global.receive;
#X obj 15 43 route dump;
#X msg 276 104 clear;
#N canvas 0 99 451 362 configure 0;
#X obj 15 7 inlet;
#X obj 314 68 r \$0.stepviswidth;
#X obj 288 67 f;
#X msg 288 90 stepviswidth \$1;
#X obj 242 117 f;
#X obj 268 118 r \$0.stepvisheight;
#X msg 242 140 stepvisheight \$1;
#X obj 197 167 f;
#X obj 223 168 r \$0.stepsperpage;
#X msg 197 190 stepsperpage \$1;
#X obj 151 67 f;
#X obj 177 68 r \$0.pitchrange;
#X msg 151 90 pitchrange \$1;
#X obj 106 117 f;
#X obj 60 167 f;
#X obj 132 118 r \$0.gridsubdivision;
#X msg 106 140 gridsubdivision \$1;
#X obj 86 168 r \$0.griddivision;
#X msg 60 190 griddivision \$1;
#X obj 15 41 t b b b b b b b, f 46;
#X msg 15 217 page 1;
#X obj 82 268 list prepend set;
#X obj 82 291 list trim;
#X obj 29 331 outlet;
#X connect 0 0 19 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 21 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 21 0;
#X connect 7 0 9 0;
#X connect 8 0 7 1;
#X connect 9 0 21 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 12 0 21 0;
#X connect 13 0 16 0;
#X connect 14 0 18 0;
#X connect 15 0 13 1;
#X connect 16 0 21 0;
#X connect 17 0 14 1;
#X connect 18 0 21 0;
#X connect 19 0 20 0;
#X connect 19 1 14 0;
#X connect 19 2 13 0;
#X connect 19 3 10 0;
#X connect 19 4 7 0;
#X connect 19 5 4 0;
#X connect 19 6 2 0;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X restore 189 103 pd configure;
#N canvas 0 99 578 272 restore 0;
#X obj 19 16 inlet;
#X obj 189 200 outlet;
#X obj 19 94 until;
#X msg 19 68 1000;
#X obj 19 117 f;
#X obj 19 42 t b b;
#X msg 74 93 0;
#X obj 109 128 + 1;
#X obj 19 164 tabread \$0.active;
#X obj 19 140 t a a a;
#X obj 19 187 sel 1;
#X obj 19 210 f;
#X obj 189 35 t a a a a a, f 47;
#X obj 189 115 tabread \$0.step;
#X obj 189 138 pack f f f f f, f 47;
#X obj 258 93 tabread \$0.pitch;
#X obj 468 95 tabread \$0.gid;
#X msg 189 169 note create \$1 \$2 \$3 \$4 \$5;
#X obj 328 72 tabread \$0.velocity;
#X obj 398 115 tabread \$0.duration;
#X connect 0 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 9 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 9 1 11 1;
#X connect 9 2 7 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 15 0;
#X connect 12 2 18 0;
#X connect 12 3 19 0;
#X connect 12 4 16 0;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 15 0 14 1;
#X connect 16 0 14 4;
#X connect 17 0 1 0;
#X connect 18 0 14 2;
#X connect 19 0 14 3;
#X restore 102 103 pd restore;
#X obj 15 66 t b b b b, f 44;
#X obj 135 171 list trim;
#N canvas 0 99 472 349 msg 0;
#X obj 11 24 inlet;
#X obj 8 306 outlet;
#X msg 95 69;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 15 256 pd msg;
#X obj 135 148 list prepend add2;
#X obj 135 194 t b a;
#X msg 135 217 addcomma;
#X obj 15 170 t b b;
#X msg 15 196 set;
#X obj 15 292 s \$0.global.send;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 8 0;
#X connect 3 0 8 0;
#X connect 4 0 8 0;
#X connect 5 0 11 0;
#X connect 5 1 4 0;
#X connect 5 2 3 0;
#X connect 5 3 2 0;
#X connect 6 0 9 0;
#X connect 7 0 13 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 9 1 7 0;
#X connect 10 0 7 0;
#X connect 11 0 12 0;
#X connect 11 1 7 0;
#X connect 12 0 7 0;
#X restore 22 222 pd dump;
#N canvas 0 289 347 307 note.unselect 0;
#X obj 17 21 r \$0.global.receive;
#X obj 17 44 route note;
#X obj 17 193 s \$0.redraw;
#X msg 56 117 const 0;
#X obj 56 140 s \$0.marked;
#X obj 17 90 t b a b;
#X obj 17 163 del 0;
#X obj 17 67 route unselect;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 5 2 3 0;
#X connect 6 0 2 0;
#X connect 7 0 5 0;
#X restore 19 158 pd note.unselect;
#N canvas 0 201 490 615 note.move 0;
#X obj 6 8 r \$0.global.receive;
#X obj 6 31 route note;
#X obj 6 100 t a a, f 49;
#X msg 6 123 \$1 \$2;
#N canvas 83 99 410 208 step|pitch->id 0;
#X obj 40 63 s \$0.convert.step|pitch->id.get;
#X obj 40 86 r \$0.convert.step|pitch->id;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X restore 6 168 pd step|pitch->id;
#N canvas 83 99 410 208 id->pointer 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.id->pointer.get;
#X obj 40 86 r \$0.convert.id->pointer;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 237 380 pd id->pointer;
#X obj 6 194 route -1;
#X obj 6 145 t a a;
#X obj 6 217 b;
#X obj 6 298 s error;
#X obj 6 240 list append;
#X obj 237 403 route -1;
#X obj 282 452 f;
#X obj 282 429 t b p;
#X obj 51 329 t a a;
#X obj 282 475 t a a;
#X msg 297 155 \$3 \$4;
#X obj 51 362 list append;
#X obj 51 385 t a a;
#X obj 51 484 s \$0.step;
#X obj 78 434 s \$0.pitch;
#X msg 51 460 \$1 \$2;
#X msg 78 410 \$1 \$3;
#X msg 6 271 note move: no such note (\$1 \$2);
#X text 345 154 step|pitch;
#X obj 282 549 set \$0.note x y;
#N canvas 0 99 405 189 step->x 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.step->x.get;
#X obj 40 85 r \$0.convert.step->x;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 282 503 pd step->x;
#N canvas 0 99 405 189 pitch->y 0;
#X obj 13 14 inlet;
#X obj 13 37 t b a;
#X obj 13 114 list append;
#X obj 13 137 outlet;
#X obj 40 63 s \$0.convert.pitch->y.get;
#X obj 40 85 r \$0.convert.pitch->y;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 5 0 2 1;
#X restore 325 524 pd pitch->y;
#X obj 6 54 route move;
#X connect 0 0 1 0;
#X connect 1 0 28 0;
#X connect 2 0 3 0;
#X connect 2 1 16 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 11 0;
#X connect 6 0 8 0;
#X connect 6 1 14 0;
#X connect 7 0 4 0;
#X connect 7 1 10 1;
#X connect 8 0 10 0;
#X connect 10 0 23 0;
#X connect 11 1 13 0;
#X connect 12 0 15 0;
#X connect 13 0 12 0;
#X connect 13 1 25 2;
#X connect 14 0 17 0;
#X connect 14 1 5 0;
#X connect 15 0 26 0;
#X connect 15 1 27 0;
#X connect 16 0 12 1;
#X connect 16 0 17 1;
#X connect 17 0 18 0;
#X connect 18 0 21 0;
#X connect 18 1 22 0;
#X connect 21 0 19 0;
#X connect 22 0 20 0;
#X connect 23 0 9 0;
#X connect 26 0 25 0;
#X connect 27 0 25 1;
#X connect 28 0 2 0;
#X restore 19 184 pd note.move;
#X restore 19 155 pd process.events;
#X text 13 12 [unpunch] v0.0alpha;
#X obj 565 443 array define \$0.marked 1000;
#X connect 0 0 23 0;
#X connect 1 0 2 0;
#X connect 2 0 40 0;
#X connect 3 0 2 0;
#X connect 4 0 23 0;
#X connect 7 0 23 0;
#X connect 9 0 23 0;
#X connect 11 0 26 0;
#X connect 11 0 27 0;
#X connect 11 0 28 0;
#X connect 11 0 29 0;
#X connect 11 0 30 0;
#X connect 11 0 31 0;
#X connect 11 0 45 0;
#X connect 12 0 23 0;
#X connect 14 0 18 0;
#X connect 17 0 20 0;
#X connect 19 0 35 0;
#X connect 21 0 17 0;
#X connect 24 0 41 0;
#X connect 35 0 15 0;
#X connect 35 1 36 0;
#X connect 35 2 37 0;
#X connect 39 0 11 0;
#X connect 41 0 25 0;
#X connect 41 1 12 0;
#X connect 41 2 9 0;
#X connect 41 3 4 0;
#X connect 41 4 7 0;
#X connect 41 5 0 0;
